{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/node.point.js","webpack://MARVEL graphs/./index.ts","webpack://MARVEL graphs/./node_modules/sigma/utils/index.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://MARVEL graphs/./node_modules/graphology/dist/graphology.umd.min.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.clamped.js","webpack://MARVEL graphs/./node_modules/sigma/types.js","webpack://MARVEL graphs/./node.image.ts","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/utils.js","webpack://MARVEL graphs/./node_modules/graphology-utils/is-graph.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/captor.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/edge-label.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/touch.js","webpack://MARVEL graphs/./node_modules/sigma/sigma.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.circle.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/edge.js","webpack://MARVEL graphs/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.point.border.js","webpack://MARVEL graphs/./node.label.ts","webpack://MARVEL graphs/./node.halo.ts","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.image.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/utils/matrices.js","webpack://MARVEL graphs/./node_modules/sigma/core/labels.js","webpack://MARVEL graphs/./node_modules/papaparse/papaparse.min.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.point.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/node.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.rectangle.js","webpack://MARVEL graphs/./node_modules/sigma/index.js","webpack://MARVEL graphs/./node_modules/sigma/utils/easings.js","webpack://MARVEL graphs/./node_modules/sigma/settings.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.image.frag.glsl.js","webpack://MARVEL graphs/./node_modules/events/events.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/node.circle.js","webpack://MARVEL graphs/./node_modules/@yomguithereal/helpers/extend.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.circle.frag.glsl.js","webpack://MARVEL graphs/./utils.ts","webpack://MARVEL graphs/./node_modules/sigma/utils/edge-collisions.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/program.js","webpack://MARVEL graphs/./node_modules/sigma/core/quadtree.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.arrow.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/hover.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/mouse.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.arrowHead.js","webpack://MARVEL graphs/./settings.ts","webpack://MARVEL graphs/./node_modules/sigma/utils/animate.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/label.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.point.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/core/camera.js","webpack://MARVEL graphs/./node_modules/sigma/utils/data.js","webpack://MARVEL graphs/webpack/bootstrap","webpack://MARVEL graphs/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_point_vert_glsl_1 = __importDefault(require(\"../shaders/node.point.vert.glsl.js\"));\nvar node_point_frag_glsl_1 = __importDefault(require(\"../shaders/node.point.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\"];\nvar NodePointProgram = /** @class */ (function (_super) {\n    __extends(NodePointProgram, _super);\n    function NodePointProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 1,\n            ARRAY_ITEMS_PER_VERTEX: 4,\n            VERTEX_SHADER_SOURCE: node_point_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_point_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    NodePointProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = (0, utils_1.floatColor)(data.color);\n    };\n    NodePointProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_pixelRatio = _a.u_pixelRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    };\n    return NodePointProgram;\n}(node_1.NodeProgram));\nexports.default = NodePointProgram;\n","/* TODO:\n- mobiles fixes:\n  - reduce histogram height on small ?\n- left todo with full histo:\n  - adjust time legends choices (all decades ?)\n  - add play timeline button\n  - clickable/selectable years url bound?\n- homogeneize nodes sizes on time hover with small selection\n- fix switch entity on unselected node does not recenter graph / recenter not applied on reloading on comics\n- add star on family that focuses sentence in help\n- check bad data marvel :\n  - http://gateway.marvel.com/v1/public/stories/186542/creators incoherent with https://www.marvel.com/comics/issue/84372/damage_control_2022_1\n  - check why Tiomothy Truman has no comic\n  - filter creator \"Title\"\n  - merge Curt Conners => Lizard\n  - check gweenpool & jeff missing\n  - http://localhost:3000/#/creators/?creator=Gail+Simone&comics=73419 should have Braga not Pacheco\n  - check why zoom on Spiderman 1602 only zooms on regular spiderman\n  - test new spatialization graphology\n  - test FA2 + louvain after sparsification\n => scraper comics as counter-truth? :\n  - select good creators fields\n  - take from scraping good image url if /clean within (example https://www.marvel.com/comics/issue/51567/captain_britain_and_the_mighty_defenders_2015_1)\n  - handle or drop missing dates?\n  - rebuild characters network from comics instead of stories, ex: Silk\n  - rebuild creators network from cleaned comics instead\n  - filter imprint marvel\n  - add cover artist in comics list, not in links used\n => one more check with takoyaki on authors/characters labels + readjust louvain after\n- update screenshots + make gif\n- update README\n- auto data updates\n- reorga dossiers\nIDEAS:\n- add more cases to legend\n- build gif of all versions of the app\n- improve touch tooltips :\n  - touchmove should follow across tooltips like histogram's\n  - better positioning away from the finger\n- add urlrooting for modal? and play?\n- install app button?\n- swipe images with actual slide effect?\n- handle old browsers where nodeImages are full black (ex: old iPad)\n- handle alternate phone browsers where sigma does not work, ex Samsung Internet on Android 8\n- test bipartite network between authors and characters filtered by category of author\n- build data on movies and add a switch?\n*/\n\nimport Papa from \"papaparse\";\nimport Graph from \"graphology\";\nimport { Sigma } from \"sigma\";\nimport { Coordinates } from \"sigma/types\";\nimport {\n  logDebug,\n  hasClass,\n  addClass,\n  rmClass,\n  switchClass,\n  fixImage,\n  formatNumber,\n  formatMonth,\n  lightenColor,\n  divWidth,\n  divHeight,\n  isTouchDevice,\n  webGLSupport,\n  rotatePosition,\n  uncompress,\n  buildComicsList,\n} from \"./utils\";\nimport {\n  startYear,\n  curYear,\n  totalYears,\n  picturesLoadingDelay,\n  playComicsDelay,\n  creatorsRoles,\n  sigmaSettings,\n} from \"./settings\";\n\n/* -- Type Definitions -- */\n\ninterface Comic {\n  id: string;\n  title: string;\n  date: string;\n  url: string;\n  image: string;\n  description: string;\n  characters: string[];\n  artists: string[];\n  writers: string[];\n  role?: string;\n}\n\ninterface NetworkData {\n  graph?: Graph;\n  communities: Record<string, any>;\n  counts: Record<string, number>;\n  clusters: Record<string, any>;\n  loaded?: boolean;\n  loading?: boolean;\n  rendered?: boolean;\n}\n\ninterface HistogramData {\n  entityYearMap?: Record<number, Record<string, number>>;\n  max?: number;\n  sum?: number;\n}\n\ninterface Suggestion {\n  node: string;\n  label: string;\n}\n\ntype EntityType = \"creators\" | \"characters\";\n\ninterface Reducers {\n  nodes: ((node: string, attrs: any) => any) | null;\n  edges: ((edge: string, attrs: any) => any) | null;\n}\n\n/* -- Init global state -- */\n\nlet entity: EntityType = \"\" as EntityType,\n  selectedNode: string | null = null,\n  selectedNodeType: EntityType | null = null,\n  selectedNodeLabel: string | null = null,\n  sigmaDim: number | null = null,\n  renderer: Sigma | null = null,\n  camera: any = null,\n  currentReducers: Reducers = { nodes: null, edges: null },\n  animation: number | null = null,\n  clustersLayer: HTMLDivElement | null = null,\n  resizeClusterLabels: () => void = () => {\n    /* no-op */\n  },\n  suggestions: Suggestion[] = [],\n  allSuggestions: Suggestion[] = [],\n  comicsReady = false,\n  comicsBarView = false,\n  shift = 0,\n  preventAutoScroll = false,\n  minComicLiHeight = 100,\n  hoveredComic: Comic | null = null,\n  selectedComic: Comic | null = null,\n  playing: number | NodeJS.Timeout | null = null,\n  sortComics: \"date\" | \"alpha\" = \"date\";\n\nconst histograms: Record<EntityType, HistogramData> = {\n  characters: {},\n  creators: {},\n};\n\nconst conf: Record<string, any> = {},\n  networks: Record<EntityType, NetworkData> = {} as any,\n  picturesRenderingDelay: Record<EntityType, number> = {} as any,\n  allComics: Comic[] = [],\n  allComicsMap: Record<string, Comic> = {},\n  allCharacters: Record<string, string> = { \"-1\": \"missing info\" },\n  allCreators: Record<string, string> = { \"-1\": \"missing info\" },\n  crossMap: Record<EntityType, Record<string, any>> = { creators: {}, characters: {} },\n  charactersComics: Record<string, Comic[]> = {},\n  creatorsComics: Record<string, Comic[]> = {};\n\n// Init global vars for each view variant\n[\"creators\", \"characters\"].forEach((e) => {\n  picturesRenderingDelay[e] = picturesLoadingDelay;\n  networks[e] = {\n    communities: {},\n    counts: {},\n    // keep the property so existing code that checks data.clusters doesnt crash,\n    // but it will just be an empty object now\n    clusters: {},\n  };\n});\n\n// Useful DOM elements\nconst container = document.getElementById(\"sigma-container\") as HTMLElement,\n  legendDiv = document.getElementById(\"legend\") as HTMLElement,\n  controls = document.getElementById(\"controls\") as HTMLElement,\n  loader = document.getElementById(\"loader\") as HTMLElement,\n  loaderComics = document.getElementById(\"loader-comics\") as HTMLElement,\n  loaderList = document.getElementById(\"loader-list\") as HTMLElement,\n  helpButton = document.getElementById(\"help\") as HTMLElement,\n  helpModal = document.getElementById(\"help-modal\") as HTMLElement,\n  helpBox = document.getElementById(\"help-box\") as HTMLElement,\n  modal = document.getElementById(\"modal\") as HTMLElement,\n  modalImg = document.getElementById(\"modal-img\") as HTMLImageElement,\n  modalImgMissing = document.getElementById(\"modal-img-missing\") as HTMLImageElement,\n  modalNext = document.getElementById(\"modal-next\") as HTMLButtonElement,\n  modalPrev = document.getElementById(\"modal-previous\") as HTMLButtonElement,\n  modalPlay = document.getElementById(\"modal-play\") as HTMLButtonElement,\n  modalPause = document.getElementById(\"modal-pause\") as HTMLButtonElement,\n  comicsActions = document.getElementById(\"comics-actions\") as HTMLButtonElement,\n  comicsNext = document.getElementById(\"comics-next\") as HTMLButtonElement,\n  comicsPrev = document.getElementById(\"comics-prev\") as HTMLButtonElement,\n  comicsPlay = document.getElementById(\"comics-play\") as HTMLButtonElement,\n  comicsPause = document.getElementById(\"comics-pause\") as HTMLButtonElement,\n  filterComics = document.getElementById(\"comics-filter\") as HTMLButtonElement,\n  filterSearch = document.getElementById(\"filter-comics\") as HTMLButtonElement,\n  filterInput = document.getElementById(\"filter-input\") as HTMLButtonElement,\n  sortAlpha = document.getElementById(\"comics-sort-alpha\") as HTMLButtonElement,\n  sortDate = document.getElementById(\"comics-sort-date\") as HTMLButtonElement,\n  sideBar = document.getElementById(\"sidebar\") as HTMLImageElement,\n  explanations = document.getElementById(\"explanations\") as HTMLElement,\n  viewNodeButton = document.getElementById(\"view-node\") as HTMLElement,\n  viewComicsButton = document.getElementById(\"view-comics\") as HTMLElement,\n  orderSpan = document.getElementById(\"order\") as HTMLElement,\n  nodeDetails = document.getElementById(\"node-details\") as HTMLElement,\n  nodeLabel = document.getElementById(\"node-label\") as HTMLElement,\n  nodeImg = document.getElementById(\"node-img\") as HTMLImageElement,\n  nodeExtra = document.getElementById(\"node-extra\") as HTMLElement,\n  histogramContainer = document.getElementById(\"histogram-container\") as HTMLElement,\n  histogramDiv = document.getElementById(\"histogram\") as HTMLElement,\n  histogramHover = document.getElementById(\"histogram-hover\") as HTMLElement,\n  histogramLegend = document.getElementById(\"histogram-legend\") as HTMLElement,\n  histoTooltip = document.getElementById(\"histogram-tooltip\") as HTMLElement,\n  comicsBar = document.getElementById(\"comics-bar\") as HTMLImageElement,\n  comicsDiv = document.getElementById(\"comics\") as HTMLImageElement,\n  comicsTitle = document.getElementById(\"comics-title\") as HTMLElement,\n  comicsSubtitle = document.getElementById(\"comics-subtitle\") as HTMLElement,\n  comicsList = document.getElementById(\"comics-list\") as HTMLElement,\n  comicsCache = document.getElementById(\"comics-cache\") as HTMLElement,\n  comicTitle = document.getElementById(\"comic-title\") as HTMLLinkElement,\n  comicUrl = document.getElementById(\"comic-url\") as HTMLLinkElement,\n  comicImg = document.getElementById(\"comic-img\") as HTMLImageElement,\n  comicDesc = document.getElementById(\"comic-desc\") as HTMLLinkElement,\n  comicEntities = document.querySelectorAll(\".comic-entities\") as NodeListOf<HTMLElement>,\n  comicCreators = document.getElementById(\"comic-creators\") as HTMLElement,\n  comicCharacters = document.getElementById(\"comic-characters\") as HTMLElement,\n  searchInput = document.getElementById(\"search-input\") as HTMLInputElement,\n  searchIcon = document.getElementById(\"search-icon\") as HTMLInputElement,\n  searchSuggestions = document.getElementById(\"suggestions\") as HTMLDataListElement,\n  selectSuggestions = document.getElementById(\"suggestions-select\") as HTMLSelectElement,\n  switchNodeType = document.getElementById(\"node-type-switch\") as HTMLInputElement,\n  switchTypeLabel = document.getElementById(\"switch-type\") as HTMLInputElement,\n  globalTooltip = document.getElementById(\"tooltip\") as HTMLElement,\n  entitySpans = document.querySelectorAll(\".entity\") as NodeListOf<HTMLElement>,\n  charactersDetailsSpans = document.querySelectorAll(\n    \".characters-details\",\n  ) as NodeListOf<HTMLElement>,\n  creatorsDetailsSpans = document.querySelectorAll(\".creators-details\") as NodeListOf<HTMLElement>;\n\n/* -- Load & prepare data -- */\n\nfunction loadNetwork(\n  ent: EntityType,\n  callback: (() => void) | null = null,\n  waitForComics = false,\n): Promise<void> | number | null {\n  if (networks[ent].loaded && (!waitForComics || comicsReady)) {\n    if (callback) setTimeout(callback, 0);\n    return null;\n  }\n\n  if (callback || (waitForComics && !comicsReady)) showLoader();\n\n  if (networks[ent].loading) {\n    if (callback) {\n      const waiter = setInterval(() => {\n        if (!networks[ent].loaded || (waitForComics && !comicsReady)) return;\n        clearInterval(waiter);\n        return setTimeout(callback, 0);\n      }, 50);\n    }\n    return null;\n  }\n\n  logDebug(\"LOAD NETWORK\", { ent });\n  networks[ent].loading = true;\n  return fetch(\"./data/\" + ent + \".json.gz\")\n    .then((res) => res.arrayBuffer())\n    .then((content) => buildNetwork(content, ent, callback, waitForComics));\n}\n\nfunction computeNodeSize(count: number): number {\n  const dim = sigmaDim || 1000;\n  return (\n    ((2 / 3 + Math.pow(count, 0.2) * (entity === \"characters\" ? 1.75 : 1.25) * 1.25) * dim) / 1000\n  );\n}\n\nfunction buildNetwork(\n  networkData: ArrayBuffer,\n  ent: EntityType,\n  callback: (() => void) | null,\n  waitForComics: boolean,\n): void {\n  logDebug(\"BUILD GRAPH\", { ent });\n  const data = networks[ent];\n\n  // networkData is a zlib-compressed buffer of our aesthetics JSON\n  uncompress(new Uint8Array(networkData), \"inflate\", (graphData: string) => {\n    let parsed: any;\n    try {\n      parsed = JSON.parse(graphData);\n    } catch (e) {\n      console.error(\"Error parsing network JSON:\", e);\n      return;\n    }\n\n    // Create a fresh undirected graph\n    const g = new Graph({ type: \"undirected\", multi: false });\n\n    // ---------- NODES ----------\n    (parsed.nodes || []).forEach((n: any) => {\n      const a = n.attributes || {};\n      const label: string = n.label || a.label || \"\";\n\n      g.addNode(n.id, {\n        // what Sigma / UI will use as the visible name\n        name: label,\n        // keep label as well, in case some code reads it directly\n        label,\n\n        // use our precomputed layout if present\n        x: a.x ?? 0,\n        y: a.y ?? 0,\n        size: a.size ?? 1,\n\n        // aesthetics-specific attributes\n        image: a.image || \"\",\n        image_url: a.image_url || \"\",\n        url: a.url || \"\",\n        description: a.description || \"\",\n        relatedAesthetics: a.relatedAesthetics || [],\n\n        // we intentionally do NOT include community\n      });\n\n      // also feed the name map used elsewhere in the UI\n      if (ent === \"creators\") {\n        allCreators[n.id] = label;\n      } else {\n        allCharacters[n.id] = label;\n      }\n    });\n\n    // ---------- EDGES (from relationships) ----------\n    (parsed.relationships || []).forEach((rel: any) => {\n      const src = String(rel.source);\n      const trg = String(rel.target);\n      if (!g.hasNode(src) || !g.hasNode(trg)) return;\n\n      // avoid duplicate undirected edges\n      if (!g.hasEdge(src, trg) && !g.hasEdge(trg, src)) {\n        g.addEdge(src, trg, { weight: rel.weight ?? 1 });\n      }\n    });\n\n    // attach the graph to this \"entity\" (characters/creators)\n    data.graph = g;\n\n    // make sure required containers exist so the rest of the code doesn't crash\n    if (!data.counts) data.counts = {};\n    if (!data.communities) data.communities = {};\n    if (!data.clusters) data.clusters = {};\n\n    // mark as loaded and handle callback logic as before\n    networks[ent].loaded = true;\n    if (callback) {\n      if (waitForComics && !comicsReady) {\n        const waiter = setInterval(() => {\n          if (waitForComics && !comicsReady) return;\n          clearInterval(waiter);\n          return setTimeout(callback, 0);\n        }, 50);\n      } else {\n        return setTimeout(callback, 0);\n      }\n    }\n  });\n}\n\nfunction loadComics(): void {\n  logDebug(\"LOAD COMICS\");\n  fetch(\"./data/list.csv.gz\")\n    .then((res) => res.arrayBuffer())\n    .then((data) => uncompress(new Uint8Array(data), \"ungzip\", buildComics));\n}\n\nfunction buildComics(comicsData: string): void {\n  Papa.parse(comicsData, {\n    worker: true,\n    header: true,\n    skipEmptyLines: \"greedy\",\n    step: function (result: any) {\n      const c = result.data;\n      // Filter comics with missing date\n      if (!new Date(c.date).getFullYear()) return;\n      allComics.push(c as Comic);\n      allComicsMap[c.id] = c;\n\n      c.characters = c.characters.split(\"|\").filter((x) => x);\n      c.characters.forEach((ch) => {\n        if (!charactersComics[ch]) charactersComics[ch] = [];\n        charactersComics[ch].push(c);\n      });\n\n      const artistsIds = {};\n      c.artists = c.artists.split(\"|\").filter((x) => x);\n      c.writers = c.writers.split(\"|\").filter((x) => x);\n      c.creators = c.writers.concat(c.artists);\n\n      c.artists.forEach((cr) => {\n        if (!creatorsComics[cr]) creatorsComics[cr] = [];\n        creatorsComics[cr].push({ ...c, role: \"artist\" });\n        artistsIds[cr] = creatorsComics[cr].length - 1;\n      });\n\n      c.writers.forEach((cr) => {\n        if (!creatorsComics[cr]) creatorsComics[cr] = [];\n        if (artistsIds[cr]) creatorsComics[cr][artistsIds[cr]].role = \"both\";\n        else creatorsComics[cr].push({ ...c, role: \"writer\" });\n      });\n\n      c.creators.forEach((cr) => {\n        c.characters.forEach((ch) => {\n          if (!crossMap.creators[ch]) crossMap.creators[ch] = {};\n          if (!crossMap.creators[ch][cr]) crossMap.creators[ch][cr] = 0;\n          crossMap.creators[ch][cr]++;\n          if (!crossMap.characters[cr]) crossMap.characters[cr] = {};\n          if (!crossMap.characters[cr][ch]) crossMap.characters[cr][ch] = 0;\n          crossMap.characters[cr][ch]++;\n        });\n      });\n    },\n    complete: function () {\n      comicsReady = true;\n      loaderComics.style.display = \"none\";\n      rmClass(viewComicsButton, \"selected\");\n      renderHistogram(selectedNode);\n      resize(true);\n      ([\"creators\", \"characters\"] as EntityType[]).forEach((e) => loadNetwork(e));\n    },\n  });\n}\n\n/* -- Graphs display -- */\n\nfunction renderNetwork(shouldComicsBarView) {\n  logDebug(\"RENDER\", {\n    entity,\n    selectedNode,\n    selectedNodeType,\n    selectedNodeLabel,\n    shouldComicsBarView,\n    comicsBarView,\n    selectedComic,\n  });\n  if (!entity) return; // Guard against empty entity\n  const data = networks[entity];\n\n  // Feed communities size to explanations\n  // Feed basic counts to explanations\n  if (data.graph) {\n    orderSpan.innerHTML = formatNumber(data.graph.order);\n  }\n  if (entity === \"creators\") {\n    Object.keys(creatorsRoles).forEach((k) => {\n      const role = document.getElementById(k + \"-color\");\n      if (role) {\n        role.style.color = lightenColor(creatorsRoles[k]);\n        role.innerHTML = k + \" (\" + formatNumber(data.counts[k] || 0) + \")\";\n      }\n    });\n  } else {\n    // No more clusters legend for characters / aesthetics\n    const clEl = document.getElementById(\"clusters-legend\");\n    if (clEl) clEl.innerHTML = \"\";\n  }\n\n  // Instantiate sigma:\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  if (!renderer) {\n    renderer = new Sigma(data.graph as any, container, sigmaSettings);\n\n    // insert the clusters layer underneath the hovers layer\n    clustersLayer = document.createElement(\"div\");\n    clustersLayer.id = \"clusters-layer\";\n    clustersLayer.style.display = \"none\";\n    const sigmaHovers = document.getElementsByClassName(\"sigma-hovers\")[0];\n    if (sigmaHovers) {\n      container.insertBefore(clustersLayer, sigmaHovers);\n    }\n\n    // Clusters labels position needs to be updated on each render\n    renderer.on(\"afterRender\", () => {\n      if (entity === \"characters\") return;\n      resizeClusterLabels();\n    });\n\n    // Add pointer on hovering nodes\n    renderer.on(\"enterNode\", () => (container.style.cursor = \"pointer\"));\n    renderer.on(\"leaveNode\", () => (container.style.cursor = \"default\"));\n\n    // Handle clicks on nodes\n    renderer.on(\"clickNode\", (event) => clickNode(event.node));\n    renderer.on(\"clickStage\", () => {\n      if (comicsBarView && selectedComic)\n        setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n      else if (comicsBarView) setURL(entity, selectedNodeLabel, selectedNodeType);\n      else setSearchQuery();\n    });\n\n    // Bind zoom manipulation buttons\n    camera = renderer.getCamera();\n    const zoomIn = document.getElementById(\"zoom-in\");\n    const zoomOut = document.getElementById(\"zoom-out\");\n    const zoomReset = document.getElementById(\"zoom-reset\");\n    if (zoomIn && camera) zoomIn.onclick = () => camera.animatedZoom({ duration: 600 });\n    if (zoomOut && camera) zoomOut.onclick = () => camera.animatedUnzoom({ duration: 600 });\n    if (zoomReset && camera) zoomReset.onclick = () => camera.animatedReset({ duration: 300 });\n  } else {\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n\n    if (data.graph) {\n      renderer.setGraph(data.graph);\n    }\n  }\n  renderer.setSetting(\"minCameraRatio\", entity === \"creators\" ? 0.035 : 0.07);\n\n  // Render clusters labels layer on top of sigma for creators\n  if (entity === \"creators\") {\n    let clusterLabelsDoms = \"\";\n    for (const cluster in data.clusters) {\n      const c = data.clusters[cluster];\n      // adapt the position to viewport coordinates\n      const viewportPos = renderer.graphToViewport(c as Coordinates);\n      clusterLabelsDoms +=\n        '<div id=\"community-' +\n        c.id +\n        '\" class=\"cluster-label\" style=\"top: ' +\n        viewportPos.y +\n        \"px; left: \" +\n        viewportPos.x +\n        \"px; color: \" +\n        c.color +\n        '\">' +\n        c.label +\n        \"</div>\";\n    }\n    if (clustersLayer) {\n      clustersLayer.innerHTML = clusterLabelsDoms;\n    }\n\n    resizeClusterLabels = () => {\n      if (!entity || entity === \"characters\") return; // Guard against empty or characters entity\n      const data = networks[entity];\n      if (!data || !data.clusters) return; // Guard against undefined data\n      const sigmaDims = container.getBoundingClientRect();\n      if (clustersLayer) {\n        clustersLayer.style.width = sigmaDims.width + \"px\";\n      }\n\n      for (const cluster in data.clusters) {\n        const c = data.clusters[cluster];\n        const clusterLabel = document.getElementById(\"community-\" + c.id);\n        if (!clusterLabel || !renderer) return;\n        // update position from the viewport\n        const viewportPos = renderer.graphToViewport(c as Coordinates);\n        if (\n          viewportPos.x < 5 * cluster.length + 7 ||\n          viewportPos.x > sigmaDims.width - 5 * cluster.length - 7 ||\n          viewportPos.y > sigmaDims.height - 15\n        )\n          clusterLabel.style.display = \"none\";\n        else {\n          clusterLabel.style.display = \"block\";\n          clusterLabel.style[\"min-width\"] = 10 * cluster.length + \"px\";\n          clusterLabel.style.top = viewportPos.y + \"px\";\n          clusterLabel.style.left = viewportPos.x + \"px\";\n        }\n      }\n    };\n  }\n\n  // Prepare list of nodes for search/select suggestions\n  allSuggestions = data.graph\n    ? data.graph\n        .nodes()\n        .map((node) => ({\n          node: node,\n          label: data.graph!.getNodeAttribute(node, \"name\"),\n        }))\n        .sort((a, b) => (a.label < b.label ? -1 : 1))\n    : [];\n  function feedAllSuggestions() {\n    suggestions = allSuggestions.map((x) => x);\n  }\n  feedAllSuggestions();\n\n  // Feed all nodes to select for touchscreens\n  selectSuggestions.innerHTML =\n    \"<option>search</option>\" +\n    allSuggestions.map((node) => \"<option>\" + node.label + \"</option>\").join(\"\\n\");\n  selectSuggestions.onchange = () => {\n    const idx = selectSuggestions.selectedIndex;\n    clickNode(idx ? allSuggestions[idx - 1].node : null, true, true);\n  };\n\n  function fillSuggestions() {\n    searchSuggestions.innerHTML = suggestions\n      .sort((a, b) => (a.label < b.label ? -1 : 1))\n      .map((node) => \"<option>\" + node.label + \"</option>\")\n      .join(\"\\n\");\n  }\n  fillSuggestions();\n\n  // Setup nodes input search for web browsers\n  function setSearchQuery(query = \"\") {\n    feedAllSuggestions();\n    if (searchInput.value !== query) searchInput.value = query;\n\n    if (query) {\n      const lcQuery = query.toLowerCase();\n      suggestions = [];\n      if (data.graph) {\n        data.graph.forEachNode((node, { label }) => {\n          if (label.toLowerCase().includes(lcQuery)) suggestions.push({ node: node, label: label });\n        });\n      }\n\n      const suggestionsMatch = suggestions.filter((x) => x.label === query);\n      if (suggestionsMatch.length === 1) {\n        clickNode(suggestionsMatch[0].node, true, true);\n        suggestions = [];\n      } else if (selectedNode) {\n        clickNode(null, true, true);\n      }\n    } else if (selectedNode) {\n      clickNode(null, true, true);\n      feedAllSuggestions();\n    }\n    fillSuggestions();\n  }\n  searchInput.oninput = () => {\n    setSearchQuery(searchInput.value || \"\");\n  };\n  searchInput.onblur = () => {\n    if (!selectedNode) setSearchQuery();\n  };\n\n  // If a comic is selected we reload the list with it within it\n  function conditionalOpenComicsBar() {\n    if (shouldComicsBarView) {\n      if (!comicsBarView) displayComics(selectedNode, true, true);\n      else if (selectedComic) {\n        if (typeof selectedComic === \"string\") {\n          selectedComic = allComicsMap[selectedComic] || null;\n        }\n        if (selectedComic) {\n          selectComic(selectedComic, true, true);\n        }\n      } else unselectComic();\n    }\n    hideLoader();\n    enableSwitchButtons();\n  }\n\n  const sigmaWidth = divWidth(\"sigma-container\");\n  function finalizeGraph() {\n    if (!renderer) return;\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    // If a node is selected we refocus it\n    if (selectedNodeLabel && selectedNodeType !== entity && selectedNodeType) {\n      return loadNetwork(\n        selectedNodeType,\n        () => {\n          showCanvases();\n          if (selectedNodeType && networks[selectedNodeType].graph) {\n            clickNode(\n              networks[selectedNodeType].graph!.findNode(\n                (n, { label }) => label === (selectedNodeLabel || \"\"),\n              ) || null,\n              false,\n              true,\n            );\n          }\n          conditionalOpenComicsBar();\n        },\n        true,\n      );\n    }\n    const node =\n      selectedNodeLabel && data.graph\n        ? data.graph.findNode((n, { label }) => label === selectedNodeLabel)\n        : null;\n    showCanvases();\n    if (node !== null && node !== undefined) {\n      clickNode(node, false, true);\n    }\n    conditionalOpenComicsBar();\n  }\n\n  resize();\n  showLoader();\n  // Zoom in graph on first init network\n  if (!data.rendered) {\n    camera.x = 0.5 + shift / (2 * sigmaWidth);\n    camera.y = 0.5;\n    camera.ratio = Math.pow(1.5, 10);\n    camera.angle = 0;\n    showCanvases(false);\n    setTimeout(\n      () =>\n        camera.animate({ ratio: sigmaWidth / (sigmaWidth - shift) }, { duration: 1500 }, () => {\n          data.graph!.updateEachNodeAttributes(\n            (node, attrs) => ({\n              ...attrs,\n              type: \"image\",\n              label: attrs.name,\n            }),\n            { attributes: [\"type\", \"label\"] },\n          );\n          finalizeGraph();\n          // Load comics data after first network rendered\n          if (comicsReady === null) {\n            comicsReady = false;\n            setTimeout(loadComics, 50);\n          }\n        }),\n      50,\n    );\n    data.rendered = true;\n  } else finalizeGraph();\n}\n\nsearchIcon.onclick = () => searchInput.focus();\n\nfunction updateShift() {\n  shift = comicsBarView\n    ? comicsBar.getBoundingClientRect()[\"x\"]\n      ? divWidth(\"comics-bar\")\n      : divWidth(\"sidebar\") - divWidth(\"comics-bar\")\n    : 0;\n}\n\n// Center the camera on the selected node and its neighbors or a selected list of nodes\nfunction centerNode(node: string | null, neighbors: string[] | null = null, force = true) {\n  // cancel pending centering\n  if (animation) clearTimeout(animation);\n  // stop already running centering by requesting an idle animation\n  if (camera.isAnimated())\n    camera.animate(\n      camera.getState,\n      { duration: 0 },\n      // then only compute positions to run new centering after a delay to filter out too close calls\n      () => (animation = window.setTimeout(() => runCentering(node, neighbors, force), 50) as any),\n    );\n  else animation = window.setTimeout(() => runCentering(node, neighbors, force), 0) as any;\n}\n\nfunction runCentering(node: string | null, neighbors: string[] | null = null, force = true): void {\n  logDebug(\"CENTER ON\", {\n    node,\n    neighbors,\n    force,\n    shift,\n    animation,\n    animated: camera.isAnimated(),\n  });\n  if (!entity) return; // Guard against empty entity\n  const data = networks[entity];\n  if (!camera || (!node && !neighbors)) return;\n  if (!neighbors && data.graph && node) {\n    if (data.graph.hasNode(node)) {\n      neighbors = data.graph.neighbors(node);\n    }\n  }\n  if (!neighbors) return;\n  if (node && neighbors.indexOf(node) === -1) neighbors.push(node);\n  if (!neighbors.length) {\n    hideLoader();\n    return;\n  }\n\n  if (!renderer || !camera) return;\n\n  let x0: number | null = null,\n    x1: number | null = null,\n    y0: number | null = null,\n    y1: number | null = null;\n  neighbors.forEach((n) => {\n    const pos = renderer!.getNodeDisplayData(n);\n    if (!pos) return;\n    if (x0 === null || x0 > pos.x) x0 = pos.x;\n    if (x1 === null || x1 < pos.x) x1 = pos.x;\n    if (y0 === null || y0 > pos.y) y0 = pos.y;\n    if (y1 === null || y1 < pos.y) y1 = pos.y;\n  });\n  if (x0 === null || x1 === null || y0 === null || y1 === null) return;\n  const minCorner = rotatePosition(renderer!.framedGraphToViewport({ x: x0, y: y0 }), camera.angle),\n    maxCorner = rotatePosition(renderer!.framedGraphToViewport({ x: x1, y: y1 }), camera.angle),\n    viewPortPosition = renderer!.framedGraphToViewport({\n      x: (x0 + x1) / 2,\n      y: (y0 + y1) / 2,\n    }),\n    sigmaDims = container.getBoundingClientRect();\n\n  // Handle comicsbar hiding part of the graph\n  updateShift();\n  sigmaDims.width -= shift;\n  // Evaluate required zoom ratio\n  const ratio =\n    camera && renderer\n      ? Math.min(\n          50 / camera.ratio,\n          Math.max(\n            (1.5 * (renderer.getSetting(\"minCameraRatio\") || 0)) / camera.ratio,\n            1.5 /\n              Math.min(\n                sigmaDims.width / Math.abs(maxCorner.x - minCorner.x),\n                sigmaDims.height / Math.abs(minCorner.y - maxCorner.y),\n              ),\n          ),\n        )\n      : 0.5;\n\n  // Evaluate acceptable window\n  const minWin = rotatePosition(\n      {\n        x: 0,\n        y: 0,\n      },\n      camera.angle,\n    ),\n    maxWin = rotatePosition(\n      {\n        x: sigmaDims.width,\n        y: sigmaDims.height,\n      },\n      camera.angle,\n    ),\n    minPos = rotatePosition(\n      {\n        x: sigmaDims.width / 6,\n        y: sigmaDims.height / 6,\n      },\n      camera.angle,\n    ),\n    maxPos = rotatePosition(\n      {\n        x: (5 * sigmaDims.width) / 6,\n        y: (5 * sigmaDims.height) / 6,\n      },\n      camera.angle,\n    );\n\n  // Zoom on node only if force, if nodes outside full window, if nodes are too close together, or if more than 1 node and outside acceptable window\n  if (\n    force ||\n    minCorner.x < minWin.x ||\n    maxCorner.x > maxWin.x ||\n    maxCorner.y < minWin.y ||\n    minCorner.y > maxWin.y ||\n    (ratio !== 0 && (ratio < 0.7 || ratio > 1.55)) ||\n    (neighbors.length > 1 &&\n      (minCorner.x < minPos.x ||\n        maxCorner.x > maxPos.x ||\n        maxCorner.y < minPos.y ||\n        minCorner.y > maxPos.y))\n  ) {\n    viewPortPosition.x += (ratio * shift) / 2;\n    const newCam = renderer.viewportToFramedGraph(viewPortPosition);\n    newCam[\"ratio\"] = camera.ratio * ratio;\n    camera.animate(newCam, { duration: 300 }, hideLoader);\n  } else hideLoader();\n}\n\n/* -- Graph interactions -- */\n\nfunction clickNode(node: string | null, updateURL = true, center = false): void {\n  logDebug(\"CLICK NODE\", {\n    selectedNode,\n    selectedNodeType,\n    selectedNodeLabel,\n    node,\n    updateURL,\n    center,\n    comicsBarView,\n    selectedComic,\n  });\n  if (!entity) return; // Guard against empty entity\n  let data = networks[entity];\n  if (!data.graph || !renderer) return;\n\n  // Unhiglight previous node\n  const sameNode = node === selectedNode;\n  if (selectedNode) {\n    if (data.graph.hasNode(selectedNode))\n      data.graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n  }\n  stopPlayComics();\n\n  if (!node || !sameNode) {\n    nodeImg.src = \"\";\n    modalImg.src = \"\";\n    modalImgMissing.style.display = \"none\";\n  }\n  // Reset unselected node view\n  renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n  renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n  if (!node) {\n    selectedNode = null;\n    selectedNodeType = null;\n    selectedNodeLabel = null;\n    nodeLabel.style.display = \"none\";\n    resize(true);\n    if (updateURL) setURL(entity, null, null, selectedComic?.id || null, sortComics);\n    selectSuggestions.selectedIndex = 0;\n    defaultSidebar();\n    if (comicsBarView && !sameNode) displayComics(null, true);\n    return;\n  }\n\n  let relatedNodes = null,\n    comicsRatio = 0,\n    nodeEntity = entity;\n  if (selectedNodeType && selectedNodeType !== entity) {\n    if (data.graph.hasNode(node)) selectedNodeType = entity;\n    else {\n      nodeEntity = selectedNodeType;\n      data = networks[selectedNodeType];\n      if (!data.graph) return;\n      relatedNodes = crossMap[entity][node] || {};\n      comicsRatio = relatedNodes\n        ? allComics.length /\n          (3 *\n            ((Object.values(relatedNodes) as number[]).reduce(\n              (sum: number, cur: number) => sum + cur,\n              0,\n            ) as number))\n        : 0;\n      logDebug(\"KEEP NODE\", {\n        selectedNode,\n        selectedNodeType,\n        selectedNodeLabel,\n        node,\n        nodeEntity,\n        relatedNodes,\n        comicsRatio,\n      });\n    }\n  }\n\n  if (!data.graph.hasNode(node))\n    return setURL(entity, null, null, selectedComic?.id || null, sortComics);\n\n  if (updateURL && !sameNode) {\n    legendDiv.style.display = \"none\";\n    setURL(\n      entity,\n      data.graph.getNodeAttribute(node, \"label\"),\n      entity,\n      selectedComic?.id || null,\n      sortComics,\n    );\n  }\n\n  // Fill sidebar with selected node's details\n  const attrs = data.graph.getNodeAttributes(node);\n  selectedNode = node;\n  selectedNodeLabel = attrs.label;\n  nodeLabel.style.display = \"inline-block\";\n  explanations.style.display = \"none\";\n  nodeDetails.style.display = \"block\";\n  if (!sameNode) {\n    nodeDetails.scrollTo(0, 0);\n    nodeLabel.innerHTML = attrs.label;\n    nodeImg.src = fixImage(attrs.image_url);\n    nodeImg.onclick = () => {\n      modalImg.src = fixImage(attrs.image_url);\n      stopPlayComics();\n      modal.style.display = \"block\";\n      modalPrev.style.opacity = \"0\";\n      modalNext.style.opacity = \"0\";\n      modalPlay.style.display = \"none\";\n      modalPause.style.display = \"none\";\n    };\n  }\n  resize(true);\n  nodeExtra.innerHTML = \"\";\n  if (attrs.description) nodeExtra.innerHTML += \"<p>\" + attrs.description + \"</p>\";\n  nodeExtra.innerHTML +=\n    \"<p>\" +\n    (nodeEntity === \"creators\" ? \"Credit\" : \"Account\") +\n    \"ed \" +\n    \"in <b>\" +\n    attrs.stories +\n    \" stories</b> \" +\n    (entity === nodeEntity\n      ? \"shared&nbsp;with<br/>\" + \"<b>\" + data.graph.degree(node) + \" other \" + nodeEntity + \"</b>\"\n      : (entity === \"creators\" ? \"authored&nbsp;by<br/>\" : \"featuring<br/>\") +\n        \"<b>\" +\n        (relatedNodes ? Object.keys(relatedNodes).length : 0) +\n        \" \" +\n        entity +\n        \"</b>\") +\n    \"</p>\";\n\n  if (entity === nodeEntity) {\n    // Display roles in stories for creators\n    if (entity === \"creators\") {\n      if (attrs.writer === 0 && attrs.artist)\n        nodeExtra.innerHTML +=\n          '<p>Always as <b style=\"color: ' +\n          lightenColor(creatorsRoles.artist) +\n          '\">artist (' +\n          attrs.artist +\n          \")</b></p>\";\n      else if (attrs.artist === 0 && attrs.writer)\n        nodeExtra.innerHTML +=\n          '<p>Always as <b style=\"color: ' +\n          lightenColor(creatorsRoles.writer) +\n          '\">writer (' +\n          attrs.writer +\n          \")</b></p>\";\n      else\n        nodeExtra.innerHTML +=\n          '<p>Including <b style=\"color: ' +\n          lightenColor(creatorsRoles.writer) +\n          '\">' +\n          attrs.writer +\n          ' as writer</b><br/>and <b style=\"color: ' +\n          lightenColor(creatorsRoles.artist) +\n          '\">' +\n          attrs.artist +\n          \" as artist</b></p>\";\n    }\n    // Or communities if we have it for characters\n    else if (data.communities[attrs.community])\n      nodeExtra.innerHTML +=\n        '<p>Attached to the <b style=\"color: ' +\n        lightenColor(data.communities[attrs.community].color, 25) +\n        '\">' +\n        data.communities[attrs.community].label +\n        \"</b> <i>family</i></p>\";\n  } else\n    nodeExtra.innerHTML +=\n      \"<p>The size of the nodes reflects how often \" +\n      \"the \" +\n      entity +\n      \" are \" +\n      (nodeEntity === \"creators\"\n        ? \"featured in stories authored by\"\n        : \"credited in stories featuring\") +\n      \" \" +\n      selectedNodeLabel +\n      \" within Marvel API's data.</p>\";\n  if (attrs.url)\n    nodeExtra.innerHTML +=\n      '<p><a href=\"' + attrs.url + '\" target=\"_blank\">More on Marvel.com</a></p>';\n  if (comicsReady) renderHistogram(node);\n\n  selectSuggestions.selectedIndex =\n    allSuggestions.map((x) => x.label).indexOf(selectedNodeLabel || \"\") + 1;\n\n  const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n  if (!comicsBarView || !(selectedComic && comicEntities && comicEntities.indexOf(node) !== -1)) {\n    if (relatedNodes === null) {\n      // Highlight clicked node, make it bigger and hide unconnected ones\n      data.graph.setNodeAttribute(node, \"highlighted\", true);\n      renderer.setSetting(\"nodeReducer\", (n, attrs) =>\n        n === node\n          ? {\n              ...attrs,\n              zIndex: 2,\n              size: attrs.size * 1.75,\n              haloSize: attrs.size * 3.5,\n              haloIntensity: 0.75,\n            }\n          : data.graph!.hasEdge(n, node)\n            ? {\n                ...attrs,\n                haloSize: attrs.size * 2,\n                haloIntensity: 0.65,\n                zIndex: 1,\n              }\n            : {\n                ...attrs,\n                zIndex: 0,\n                type: \"circle\",\n                haloIntensity: 0,\n                color: \"#2A2A2A\",\n                size: sigmaDim && sigmaDim < 500 ? 1 : 2,\n                label: null,\n              },\n      );\n      // Hide unrelated links and highlight, weight and color as the target the node's links\n      renderer.setSetting(\"edgeReducer\", (edge, attrs) =>\n        data.graph!.hasExtremity(edge, node)\n          ? {\n              ...attrs,\n              zIndex: 0,\n              color: lightenColor(\n                data.graph!.getNodeAttribute(data.graph!.opposite(node, edge), \"color\"),\n                25,\n              ),\n              size: Math.max(\n                sigmaDim && sigmaDim < 500 ? 1 : 2,\n                sigmaDim\n                  ? (Math.log(data.graph!.getEdgeAttribute(edge, \"weight\")) * sigmaDim) / 10000\n                  : 2,\n              ),\n            }\n          : { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true },\n      );\n    } else {\n      // Display the alternate entity graph for the selected node\n      renderer.setSetting(\"nodeReducer\", (n, attrs) =>\n        relatedNodes && relatedNodes[n] !== undefined\n          ? {\n              ...attrs,\n              size: computeNodeSize(Math.pow(relatedNodes[n] * comicsRatio, 1.3)),\n              haloSize: 5 * computeNodeSize(Math.pow(relatedNodes![n] * comicsRatio, 1.3)),\n              haloIntensity: 0.05 * Math.log(relatedNodes![n] * comicsRatio),\n              zIndex: 2,\n            }\n          : {\n              ...attrs,\n              zIndex: 0,\n              type: \"circle\",\n              haloIntensity: 0,\n              color: \"#2A2A2A\",\n              size: sigmaDim && sigmaDim < 500 ? 1 : 2,\n              label: null,\n            },\n      );\n      renderer.setSetting(\"edgeReducer\", (edge, attrs) => {\n        if (!entity) return { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true };\n        const graph = networks[entity].graph;\n        return graph &&\n          relatedNodes &&\n          relatedNodes[graph.source(edge)] !== undefined &&\n          relatedNodes[graph.target(edge)] !== undefined\n          ? { ...attrs, zIndex: 0, color: \"#444\", size: 1 }\n          : { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true };\n      });\n    }\n  }\n\n  if (comicsBarView) {\n    if (!sameNode) displayComics(node, true);\n    else if (selectedComic) selectComic(selectedComic, true, true);\n  }\n  if (!(comicsBarView && selectedComic) && (!updateURL || center)) {\n    if (relatedNodes) centerNode(node, Object.keys(relatedNodes));\n    else centerNode(node);\n  } else hideLoader();\n\n  if (!sameNode) comicsDiv.scrollTo(0, 0);\n}\n\nfunction getNodeComics(node) {\n  const comicsList =\n    node === null ? allComics : charactersComics[node] || creatorsComics[node] || [];\n  if (hasClass(filterComics, \"selected\") && filterInput.value)\n    return comicsList.filter(\n      (c) => c.title.toLowerCase().indexOf(filterInput.value.toLowerCase()) !== -1,\n    );\n  return comicsList;\n  //.filter(c => (entity === \"characters\" && c.characters.length) || (entity === \"creators\" && c.creators.length));\n}\n\nfunction displayComics(node: string | null = null, autoReselect = false, resetTitle = true): void {\n  logDebug(\"DISPLAY COMICS\", {\n    selectedNode,\n    node,\n    autoReselect,\n    resetTitle,\n    selectedComic,\n    selectedNodeLabel,\n    sortComics,\n    filter: filterInput.value,\n  });\n\n  if (comicsBarView && node === selectedNode && !autoReselect && !resetTitle) {\n    if (selectedComic) scrollComicsList();\n    return;\n  }\n\n  if (selectedNodeLabel && selectedNodeType && !selectedNode) clickNode(node, false, false);\n\n  comicsBarView = true;\n  comicsBar.style.transform = \"scaleY(1)\";\n  resize(true);\n  disableSwitchButtons();\n  comicsCache.style.display = \"none\";\n  setTimeout(() => resize(true), 300);\n\n  if (resetTitle && !comicsReady && selectedNodeLabel)\n    comicsTitle.innerHTML =\n      \"... comics\" +\n      \"&nbsp;\" +\n      (selectedNodeType === \"creators\" ? \"by\" : \"with\") +\n      ' <span class=\"red\">' +\n      selectedNodeLabel.replace(/ /g, \"&nbsp;\") +\n      \"</span>\";\n  comicsSubtitle.style.display =\n    selectedNode && creatorsComics[selectedNode] ? \"inline-block\" : \"none\";\n\n  comicsList.innerHTML = \"\";\n  if (!comicsReady) {\n    loaderList.style.display = \"block\";\n    const waiter = setInterval(() => {\n      if (!comicsReady) return;\n      clearInterval(waiter);\n      return setTimeout(() => actuallyDisplayComics(node, autoReselect), 0);\n    }, 50);\n  } else actuallyDisplayComics(node, autoReselect);\n}\n\nfunction actuallyDisplayComics(node: string | null = null, autoReselect = false) {\n  if (!entity) return; // Guard against empty entity\n  const _graph = networks[entity].graph,\n    comics = getNodeComics(node).sort(sortComics === \"date\" ? sortByDate : sortByTitle);\n\n  if (!comics) comicsTitle.innerHTML = \"\";\n\n  if ((selectedNode && creatorsComics[selectedNode]) || (!selectedNode && entity === \"creators\")) {\n    const clustersLayer = document.getElementById(\"clusters-layer\");\n    if (clustersLayer) clustersLayer.style.display = \"none\";\n  }\n\n  if (comics && comics.length > 500) loaderList.style.display = \"block\";\n\n  const selectedComicId = selectedComic?.id;\n  if (selectedComicId) {\n    selectedComic = allComicsMap[selectedComicId] || selectedComic;\n  }\n  if (autoReselect) {\n    const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n    if (selectedNode && comicEntities && comicEntities.indexOf(selectedNode) === -1)\n      setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n    else if (selectedComicId)\n      selectComic(allComicsMap[selectedComicId] || selectedComic, true, autoReselect);\n  }\n\n  setTimeout(() => {\n    renderHistogram(selectedNode, comics);\n\n    comicsSubtitle.style.display =\n      selectedNode && creatorsComics[selectedNode] ? \"inline-block\" : \"none\";\n\n    if (!comics.length) {\n      comicsList.innerHTML = \"<b>no comic-book found</b>\";\n      loaderList.style.display = \"none\";\n      resize(true);\n      enableSwitchButtons();\n    } else\n      setTimeout(() => {\n        const now = new Date() as any;\n        buildComicsList(\n          {\n            comics: comics,\n            color: selectedNodeLabel && selectedNode ? creatorsComics[selectedNode] : undefined,\n            creatorsRoles: creatorsRoles,\n            selectedComic: selectedComic,\n          },\n          (comicsListData) => {\n            resize(true);\n            if ((new Date() as any) - now > 100) showLoader();\n\n            setTimeout(() => {\n              if (comicsBarView) comicsList.innerHTML = comicsListData.join(\"\");\n              if (comicsBarView && autoReselect) {\n                if (selectedComic) scrollComicsList();\n                comicsCache.style.display = \"none\";\n              }\n              hideLoader();\n              enableSwitchButtons();\n              loaderList.style.display = \"none\";\n\n              minComicLiHeight = 100;\n              setTimeout(\n                () =>\n                  comicsBarView &&\n                  comics.filter((c) => {\n                    const comicLi = document.getElementById(\"comic-\" + c.id) as any;\n                    minComicLiHeight = Math.min(\n                      minComicLiHeight,\n                      comicLi.getBoundingClientRect().height,\n                    );\n                    comicLi.comic = c;\n                    comicLi.onmouseup = () => {\n                      preventAutoScroll = true;\n                      setURL(\n                        entity,\n                        selectedNodeLabel,\n                        selectedNodeType,\n                        selectedComic && selectedComic.id === comicLi.comic.id ? \"\" : comicLi.comic,\n                        sortComics,\n                      );\n                    };\n                    comicLi.onmouseenter = () => selectComic(c);\n                  }),\n                50,\n              );\n            }, 50);\n          },\n        );\n      }, 200);\n  }, 200);\n}\n\nviewComicsButton.onclick = () => {\n  if (hasClass(viewComicsButton, \"selected\")) return;\n  setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n};\nconst closeBar = document.getElementById(\"close-bar\");\nif (closeBar) {\n  closeBar.onclick = () => setURL(entity, selectedNodeLabel, selectedNodeType);\n}\n\nfunction clearComicDetails() {\n  comicTitle.innerHTML = \"\";\n  comicImg.src = \"\";\n  comicDesc.innerHTML = \"\";\n  comicEntities.forEach((el) => (el.style.display = \"none\"));\n  comicCreators.innerHTML = \"\";\n  comicCharacters.innerHTML = \"\";\n  comicUrl.style.display = \"none\";\n}\n\nfunction unselectComic() {\n  logDebug(\"UNSELECT COMIC\", { selectedComic, selectedNodeLabel });\n  if (!entity) return; // Guard against empty entity\n  const _graph = networks[entity].graph;\n  hoveredComic = null;\n  selectComic(\"\", true);\n  clearComicDetails();\n  document\n    .querySelectorAll(\"#comics-list li.selected\")\n    .forEach((el) => rmClass(el as HTMLElement, \"selected\"));\n  if (selectedNode) clickNode(selectedNode, false, true);\n  else clickNode(null, false);\n}\n\nfunction selectComic(comic, keep = false, autoReselect = false) {\n  logDebug(\"SELECT COMIC\", {\n    selectedComic,\n    comic,\n    keep,\n    autoReselect,\n    selectedNodeLabel,\n    selectedNodeType,\n  });\n\n  if (!entity) return; // Guard against empty entity\n  const graph = networks[entity].graph;\n  if (!graph || !renderer) return;\n\n  if (!autoReselect && (!comic || !hoveredComic || comic.id !== hoveredComic.id))\n    clearComicDetails();\n\n  if (keep) {\n    selectedComic = comic;\n    document\n      .querySelectorAll(\"#comics-list li.selected\")\n      .forEach((el) => rmClass(el as HTMLElement, \"selected\"));\n    const comicLi = document.getElementById(\"comic-\" + (comic ? comic.id : \"\"));\n    if (comicLi) {\n      addClass(comicLi, \"selected\");\n      comicsCache.style.display = \"block\";\n      modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n      modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n    }\n  } else hoveredComic = comic;\n\n  if (comic && selectedNode && graph.hasNode(selectedNode))\n    graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n\n  if (!comic || !selectedComic || comic.id !== selectedComic.id) {\n    const comicDetails = document.getElementById(\"comic-details\");\n    if (comicDetails) {\n      comicDetails.scrollTo(0, 0);\n    }\n  }\n\n  if (!comic) {\n    if (!keep && selectedComic && autoReselect) selectComic(selectedComic);\n    return;\n  }\n\n  comicTitle.innerHTML = formatMonth(comic.date);\n  comicImg.src = fixImage(comic.image_url);\n  modalImg.src = fixImage(\n    comic.image_url,\n    modal.style.display === \"block\" ? modalImgMissing : null,\n  );\n  comicImg.onclick = () => {\n    modalImg.src = fixImage(comic.image_url, modalImgMissing);\n    modal.style.display = \"block\";\n    modalPlay.style.display = playing ? \"none\" : \"inline-block\";\n    modalPause.style.display = playing ? \"inline-block\" : \"none\";\n    const comicLi = document.getElementById(\"comic-\" + comic.id);\n    if (comicLi) {\n      modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n      modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n    }\n  };\n  comicDesc.innerHTML = comic.description;\n  comicUrl.style.display = \"inline\";\n  comicUrl.href = comic.url;\n\n  comicEntities.forEach((el) => (el.style.display = \"block\"));\n  comicCreators.innerHTML = (comic.writers.length ? comic.writers : [\"-1\"])\n    .map((x) =>\n      allCreators[x]\n        ? '<li id=\"creator-' +\n          x +\n          '\" ' +\n          (x !== \"-1\"\n            ? `class=\"entity-link tooltip\" tooltip=\"explore the comics authored by '` +\n              allCreators[x] +\n              `'\"`\n            : \"\") +\n          'title=\"writer\" ' +\n          'style=\"color: ' +\n          lightenColor(creatorsRoles[\"writer\"]) +\n          '\">' +\n          allCreators[x] +\n          \"</li>\"\n        : \"\",\n    )\n    .join(\"\");\n  comicCreators.innerHTML += (comic.artists.length ? comic.artists : [\"-1\"])\n    .map((x) =>\n      allCreators[x]\n        ? '<li id=\"creator-' +\n          x +\n          '\" ' +\n          (x !== \"-1\"\n            ? `class=\"entity-link tooltip\" tooltip=\"explore the comics authored by '` +\n              allCreators[x] +\n              `'\"`\n            : \"\") +\n          'title=\"artist\" ' +\n          'style=\"color: ' +\n          lightenColor(creatorsRoles[\"artist\"]) +\n          '\">' +\n          allCreators[x] +\n          \"</li>\"\n        : \"\",\n    )\n    .join(\"\");\n  comicCharacters.innerHTML = (comic.characters.length ? comic.characters : [\"-1\"])\n    .map((x) =>\n      allCharacters[x]\n        ? '<li id=\"character-' +\n          x +\n          '\" ' +\n          (x !== \"-1\"\n            ? `class=\"entity-link tooltip\" tooltip=\"explore the comics featuring '` +\n              allCharacters[x] +\n              `'\"`\n            : \"\") +\n          \">\" +\n          allCharacters[x] +\n          \"</li>\"\n        : \"\",\n    )\n    .join(\"\");\n\n  comic.creators.forEach((c) => {\n    if (!allCreators[c]) return;\n    const entityLi = document.getElementById(\"creator-\" + c) as HTMLElement;\n    entityLi.onclick = () =>\n      setURL(entity, allCreators[c], \"creators\", selectedComic?.id || null, sortComics);\n  });\n  comic.characters.forEach((c) => {\n    if (!allCharacters[c]) return;\n    const entityLi = document.getElementById(\"character-\" + c) as HTMLElement;\n    entityLi.onclick = () =>\n      setURL(entity, allCharacters[c], \"characters\", selectedComic?.id || null, sortComics);\n  });\n  (document.querySelectorAll(\".entity-link\") as NodeListOf<HTMLElement>).forEach(setupTooltip);\n\n  const comicNodes = comic[entity as EntityType] || [];\n  renderer.setSetting(\"nodeReducer\", (n, attrs) =>\n    comicNodes.indexOf(n) !== -1\n      ? {\n          ...attrs,\n          zIndex: 2,\n          size: attrs.size * 1.75,\n          haloSize: attrs.size * 3,\n          haloIntensity: 0.75,\n        }\n      : {\n          ...attrs,\n          type: \"circle\",\n          haloIntensity: 0,\n          zIndex: 0,\n          color: \"#2A2A2A\",\n          size: sigmaDim && sigmaDim < 500 ? 1 : 2,\n          label: null,\n        },\n  );\n  renderer.setSetting(\"edgeReducer\", (edge, attrs) =>\n    comicNodes.indexOf(graph.source(edge)) !== -1 && comicNodes.indexOf(graph.target(edge)) !== -1\n      ? { ...attrs, zIndex: 0, color: \"#666\", size: sigmaDim && sigmaDim < 500 ? 1 : 3 }\n      : { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true },\n  );\n\n  if (!preventAutoScroll && keep) scrollComicsList();\n  preventAutoScroll = false;\n\n  centerNode(\n    null,\n    comicNodes.filter((n) => graph.hasNode(n)),\n    false,\n  );\n}\n\n// Random node button\nviewNodeButton.onclick = () => {\n  if (hasClass(viewNodeButton, \"selected\")) return;\n  const graph = networks[entity].graph;\n  if (!graph || !renderer) return;\n  const node = graph.nodes()[Math.floor(Math.random() * graph.order)];\n  if (selectedComic) unselectComic();\n  clickNode(node, true, true);\n};\n\n// Fullscreen button\nconst win = document.documentElement as any,\n  fullScreenBtn = document.getElementById(\"fullscreen\") as HTMLButtonElement,\n  regScreenBtn = document.getElementById(\"regscreen\") as HTMLButtonElement;\n\nfullScreenBtn.onclick = () => {\n  if (win.requestFullscreen) {\n    win.requestFullscreen();\n  } else if (win.webkitRequestFullscreen) {\n    /* Safari */\n    win.webkitRequestFullscreen();\n  } else if (win.msRequestFullscreen) {\n    /* IE11 */\n    win.msRequestFullscreen();\n  }\n  fullScreenBtn.style.display = \"none\";\n  regScreenBtn.style.display = \"block\";\n};\n\n// Exit Fullscreen button\nregScreenBtn.onclick = () => {\n  if ((document as any).exitFullscreen) {\n    (document as any).exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) {\n    /* Safari */\n    (document as any).webkitExitFullscreen();\n  } else if ((document as any).msExitFullscreen) {\n    /* IE11 */\n    (document as any).msExitFullscreen();\n  }\n  regScreenBtn.style.display = \"none\";\n  fullScreenBtn.style.display = \"block\";\n};\n\n// Network switch buttons\nfunction disableSwitchButtons() {\n  switchNodeType.disabled = true;\n  (\n    document.querySelectorAll(\n      \"#view-node, #view-comics, #choices, .left, .right\",\n    ) as NodeListOf<HTMLElement>\n  ).forEach((el) => addClass(el, \"selected\"));\n}\n\nfunction enableSwitchButtons() {\n  if (comicsBarView && !comicsReady) return;\n  switchNodeType.disabled = false;\n  (\n    document.querySelectorAll(\"#view-node, #choices, .left, .right\") as NodeListOf<HTMLElement>\n  ).forEach((el) => rmClass(el, \"selected\"));\n  if (comicsReady) rmClass(viewComicsButton, \"selected\");\n}\n\nswitchNodeType.onchange = (_event) => {\n  disableSwitchButtons();\n  explanations.style.opacity = \"0\";\n  setURL(\n    switchNodeType.checked ? \"creators\" : \"characters\",\n    selectedNodeLabel,\n    selectedNodeType,\n    selectedComic?.id || null,\n    sortComics,\n  );\n};\n\n/* -- Interface display -- */\n\n(document.querySelectorAll(\".reset-graph\") as NodeListOf<HTMLElement>).forEach((el) => {\n  el.setAttribute(\"tooltip\", \"reset graph\");\n  addClass(el, \"tooltip\");\n  el.onclick = () => {\n    if (!renderer) return;\n    hideComicsBar();\n    setURL(entity);\n    setTimeout(\n      () => camera.animate({ x: 0.5, y: 0.5, ratio: 1, angle: 0 }, { duration: 250 }),\n      100,\n    );\n  };\n});\n\nfunction showCanvases(showClustersLayer = true) {\n  (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(\n    (canvas) => (canvas.style.display = \"block\"),\n  );\n  if (showClustersLayer && clustersLayer && entity === \"creators\")\n    clustersLayer.style.display = \"block\";\n}\n\nfunction showLoader() {\n  loader.style.display = \"block\";\n  loader.style.opacity = \"0.5\";\n  controls.style.opacity = \"0.15\";\n  legendDiv.style.opacity = \"0.15\";\n  comicsActions.style.opacity = \"0.15\";\n}\n\nfunction hideLoader() {\n  if (comicsBarView && !comicsReady) return;\n  return setTimeout(() => {\n    actuallyHideLoader();\n    picturesRenderingDelay[entity] = Math.min(\n      picturesRenderingDelay[entity],\n      picturesLoadingDelay / 2,\n    );\n  }, picturesRenderingDelay[entity]);\n}\nfunction actuallyHideLoader() {\n  loader.style.display = \"none\";\n  loader.style.opacity = \"0\";\n  controls.style.opacity = \"1\";\n  legendDiv.style.opacity = \"0.75\";\n  comicsActions.style.opacity = \"1\";\n}\n\nfunction defaultSidebar() {\n  explanations.style.display = \"block\";\n  nodeDetails.style.display = \"none\";\n  modal.style.display = \"none\";\n  modalImg.src = \"\";\n  modalImgMissing.style.display = \"none\";\n  if (comicsReady) renderHistogram(selectedNode);\n}\n\nfunction hideComicsBar() {\n  if (hasClass(filterComics, \"selected\")) {\n    rmClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"search comics\");\n    filterSearch.style.display = \"none\";\n    renderHistogram(selectedNode);\n  }\n  comicsCache.style.display = \"none\";\n  comicsBarView = false;\n  comicsBar.style.transform = \"scaleY(0)\";\n  modalNext.style.opacity = \"0\";\n  modalPrev.style.opacity = \"0\";\n  unselectComic();\n  selectedComic = null;\n  if (entity === \"creators\" && clustersLayer) clustersLayer.style.display = \"block\";\n}\n\n// Help Box\nlet preventClick = false;\nhelpButton.onclick = () => {\n  helpModal.style.display = \"block\";\n  setTimeout(() => (helpBox.style.transform = \"scale(1)\"), 0);\n};\nhelpModal.onclick = () => {\n  if (preventClick) {\n    preventClick = false;\n    return;\n  }\n  preventClick = false;\n  helpBox.style.transform = \"scale(0)\";\n  setTimeout(() => (helpModal.style.display = \"none\"), 300);\n};\nhelpBox.onclick = (_e) => {\n  preventClick = true;\n};\nconst closeHelp = document.getElementById(\"close-help\");\nif (closeHelp) {\n  closeHelp.onclick = helpModal.onclick;\n}\n\n// Handle tooltips\nfunction clearTooltip(e, tooltipId = \"tooltip\") {\n  const tooltip = document.getElementById(tooltipId) as HTMLElement;\n  tooltip.innerHTML = \"\";\n  tooltip.style.display = \"none\";\n}\n\nfunction setupTooltip(element) {\n  element.onmouseenter = (e) => {\n    if (isTouchDevice() && (!e.touches || hasClass(element, \"network-switch-label\"))) return;\n    const tooltip = element.getAttribute(\"tooltip\");\n    if (\n      !tooltip ||\n      (hasClass(element, \"reset-graph\") && !(selectedNode || selectedComic)) ||\n      ((element.attributes[\"type\"] || {}).value === \"search\" &&\n        element === document.activeElement) ||\n      (hasClass(element, \"selected\") && element.id.indexOf(\"comics\") !== 0)\n    )\n      return clearTooltip(e);\n    globalTooltip.innerHTML = tooltip\n      .replace(/'entity'/g, entity.replace(/s$/, \"\"))\n      .replace(\n        /'([^']+)'/g,\n        (g0, g1) => '<span class=\"lightred\">' + g1.replace(/ /g, \"&nbsp;\") + \"</span>\",\n      )\n      .replace(\"in the graph\", \"in&nbsp;the&nbsp;graph\");\n    globalTooltip.style.display = \"block\";\n    const dims = globalTooltip.getBoundingClientRect(),\n      clientX = e.touches ? e.touches[0].clientX : e.clientX,\n      clientY = e.touches ? e.touches[0].clientY : e.clientY,\n      pos = {\n        x:\n          e.touches && clientY < 100\n            ? clientX + (clientX > 250 ? -dims.width - 50 : 50)\n            : clientX - dims.width / 2,\n        y:\n          clientY +\n          (clientY < 100\n            ? e.touches\n              ? -dims.height / -dims.height / 2\n              : 25\n            : -dims.height - (e.touches ? 40 : 15)),\n      };\n    globalTooltip.style.top = pos.y + \"px\";\n    globalTooltip.style.left = Math.min(window.innerWidth - dims.width, Math.max(0, pos.x)) + \"px\";\n  };\n  element.onmousemove = element.onmouseenter;\n  element.onmouseleave = clearTooltip;\n  element.ontouchstart = element.onmouseenter;\n}\n\n(document.querySelectorAll(\".tooltip\") as NodeListOf<HTMLElement>).forEach(setupTooltip);\ndocument.onclick = clearTooltip;\ndocument.ontouchend = clearTooltip;\n\n/* -- Comics bar interactions -- */\n\n// Next/Previous/Play/Pause comics buttons handling\nfunction scrollComicsList() {\n  preventAutoScroll = false;\n  setTimeout(() => {\n    const offset = document.querySelector(\"#comics-list li.selected\") as HTMLElement;\n    if (!offset) return;\n    const listHeight = divHeight(\"comics\");\n    const diff =\n      listHeight < 5 * minComicLiHeight\n        ? listHeight + minComicLiHeight\n        : listHeight / 2 + minComicLiHeight;\n    comicsDiv.scrollTo(0, offset.offsetTop - diff);\n  }, 10);\n}\n\nfunction selectAndScroll(el) {\n  if (!el) return;\n  setURL(entity, selectedNodeLabel, selectedNodeType, el.comic, sortComics);\n  scrollComicsList();\n}\n\nfunction selectAndScrollSibling(typ, loop = false) {\n  if (!comicsBarView) return;\n  const selected = document.querySelector(\"#comics-list li.selected\") as any;\n  let target = selected && (selected[typ + \"ElementSibling\"] as any);\n  if (loop && !target)\n    target = document.querySelector(\n      \"#comics-list li:\" + (typ === \"next\" ? \"first\" : \"last\") + \"-child\",\n    ) as any;\n  selectAndScroll(target);\n  if (typ === \"next\" && playing && !target && !loop) stopPlayComics();\n}\n\nfunction playComics() {\n  comicsPlay.style.display = \"none\";\n  comicsPause.style.display = \"inline-block\";\n  modalPlay.style.display = \"none\";\n  modalPause.style.display = \"inline-block\";\n  if (playing) clearInterval(playing);\n  selectAndScrollSibling(\"next\", true);\n  playing = setInterval(() => selectAndScrollSibling(\"next\"), playComicsDelay);\n}\n\nfunction stopPlayComics() {\n  comicsPause.style.display = \"none\";\n  comicsPlay.style.display = \"inline-block\";\n  modalPause.style.display = \"none\";\n  modalPlay.style.display = \"inline-block\";\n  if (playing) clearInterval(playing as any);\n  playing = null;\n}\n\n// Comics list actions\ncomicsPlay.onclick = playComics;\ncomicsPause.onclick = stopPlayComics;\ncomicsPrev.onclick = () => selectAndScrollSibling(\"previous\", true);\ncomicsNext.onclick = () => selectAndScrollSibling(\"next\", true);\n\n// Modal actions\nmodalNext.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"next\");\n};\nmodalPrev.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"previous\");\n};\nmodalPlay.onclick = () => {\n  preventClick = true;\n  playComics();\n};\nmodalPause.onclick = () => {\n  preventClick = true;\n  stopPlayComics();\n};\nmodal.onclick = () => {\n  if (preventClick) return (preventClick = false);\n  preventClick = false;\n  modal.style.display = \"none\";\n  modalImgMissing.style.display = \"none\";\n  comicsCache.style.display = \"none\";\n};\nmodalImg.onclick = modal.onclick;\nconst closeModal = document.getElementById(\"close-modal\");\nif (closeModal) {\n  closeModal.onclick = modal.onclick;\n}\n\n// Comics list scroll blocker after click handling\ncomicsList.onmouseleave = () => {\n  if (selectedComic) selectComic(selectedComic);\n  else unselectComic();\n};\n\ncomicsCache.onwheel = () => (comicsCache.style.display = \"none\");\ncomicsCache.onmousedown = (e) => {\n  if (comicsCache.onwheel) comicsCache.onwheel(e as any);\n};\ncomicsCache.onmouseout = (e) => {\n  if (comicsCache.onwheel) comicsCache.onwheel(e as any);\n};\n\n// Sort comics buttons\nconst sortableTitle = (s) =>\n    s.replace(/^(.* \\(\\d+\\)).*$/, \"$1 / \") + s.replace(/^.*#(\\d+.*)$/, \"$1\").padStart(8, \"0\"),\n  sortByTitle = (a, b) => sortableTitle(a.title).localeCompare(sortableTitle(b.title)),\n  sortByDate = (a, b) => (a.date < b.date ? -1 : a.date === b.date ? 0 : 1);\n\nsortAlpha.onclick = () => {\n  setURL(entity, selectedNodeLabel, selectedNodeType, selectedComic?.id || null, \"alpha\");\n};\n\nsortDate.onclick = () => {\n  setURL(entity, selectedNodeLabel, selectedNodeType, selectedComic?.id || null, \"date\");\n};\n\n// Search comics input\nlet filterTimeout: NodeJS.Timeout | null = null;\n\nfunction refreshFilter() {\n  if (filterTimeout) clearTimeout(filterTimeout);\n  filterTimeout = setTimeout(() => {\n    displayComics(selectedNode, true, false);\n    filterTimeout = null;\n  }, 200);\n}\n\nfilterComics.onclick = () => {\n  if (hasClass(filterComics, \"selected\")) {\n    rmClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"search comics\");\n    filterSearch.style.display = \"none\";\n  } else {\n    addClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"clear comics filter\");\n    filterSearch.style.display = \"block\";\n    filterInput.focus();\n  }\n  resize(true);\n  if (filterInput.value) refreshFilter();\n};\n\nfilterInput.oninput = refreshFilter;\n\n/* -- Keystrokes (Esc & Arrow keys) handling -- */\n\ndocument.onkeydown = function (e) {\n  const graph = networks[entity].graph;\n  if (!graph || !renderer) return;\n\n  if (searchInput === document.activeElement || filterInput === document.activeElement) return;\n  if (modal.style.display === \"block\" && e.which === 27) {\n    modal.style.display = \"none\";\n    modalImgMissing.style.display = \"none\";\n    comicsCache.style.display = \"none\";\n  } else if (selectedComic) {\n    switch (e.which) {\n      case 37: // left\n        selectAndScrollSibling(\"previous\");\n        break;\n      case 38: // up\n        selectAndScrollSibling(\"previous\");\n        break;\n\n      case 39: // right\n        selectAndScrollSibling(\"next\");\n        break;\n      case 40: // down\n        selectAndScrollSibling(\"next\");\n        break;\n\n      case 27: // esc\n        setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n        break;\n\n      default:\n        return; // exit this handler for other keys\n    }\n  } else if (comicsBarView) {\n    if (e.which === 37 || e.which === 38)\n      selectAndScroll(document.querySelector(\"#comics-list li:last-child\") as any);\n    else if (e.which === 39 || e.which === 40)\n      selectAndScroll(document.querySelector(\"#comics-list li:first-child\") as any);\n    else if (e.which === 27) setURL(entity, selectedNodeLabel, selectedNodeType);\n    else return;\n  } else if (selectedNode && e.which === 27) clickNode(null);\n  else return;\n  e.preventDefault(); // prevent the default action (scroll / move caret)\n};\n\n/* -- Swipe touch handling -- */\n\nconst touches = { x: [0, 0], y: [0, 0] };\n\nfunction touchStart(e) {\n  touches.x[0] = e.changedTouches[0].screenX;\n  touches.y[0] = e.changedTouches[0].screenY;\n}\nmodal.ontouchstart = touchStart;\nmodalImgMissing.ontouchstart = touchStart;\ncomicImg.ontouchstart = touchStart;\nswitchTypeLabel.ontouchstart = touchStart;\n\nfunction touchEnd(e, threshold = 100) {\n  touches.x[1] = e.changedTouches[0].screenX;\n  touches.y[1] = e.changedTouches[0].screenY;\n  const horizontalDifference = touches.x[1] - touches.x[0],\n    verticalDifference = touches.y[1] - touches.y[0];\n  // Horizontal difference dominates\n  if (Math.abs(horizontalDifference) > Math.abs(verticalDifference)) {\n    if (horizontalDifference >= threshold) return \"left\";\n    else if (horizontalDifference <= -threshold) return \"right\";\n    // Vertical difference dominates\n  } else if (verticalDifference >= threshold) return \"up\";\n  else if (verticalDifference <= -threshold) return \"down\";\n  return \"\";\n}\n\nmodal.ontouchend = (e) => {\n  const typ = touchEnd(e);\n  if (typ === \"left\" || typ === \"up\") selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\" || typ === \"down\") selectAndScrollSibling(\"next\");\n};\nmodalImgMissing.ontouchend = modal.ontouchend;\n\ncomicImg.ontouchend = (e) => {\n  const typ = touchEnd(e, 30);\n  if (typ === \"left\") selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\") selectAndScrollSibling(\"next\");\n};\n\nswitchTypeLabel.ontouchend = (e) => {\n  const typ = touchEnd(e, 20);\n  if ((typ === \"left\" || typ === \"right\") && !switchNodeType.disabled) {\n    switchNodeType.checked = !switchNodeType.checked;\n    if (switchNodeType.onchange) switchNodeType.onchange(e);\n  }\n};\n\n/* -- Comics histogram timeline -- */\n\nfunction buildLegendItem(year, ref = \"\") {\n  let className = \"\",\n    color = \"\";\n  if (ref !== \"start\" && year !== startYear && year !== curYear && year !== 1980)\n    className = ' class=\"hidable\"';\n  if (ref === \"start\") color = \"; color: var(--marvel-red-light)\";\n  else if (ref === \"old\") color = \"; color: #555\";\n  return (\n    '<div style=\"left: calc((100% - 30px) * ' +\n    Math.round((1000 * (year - startYear)) / (totalYears - 1)) / 1000 +\n    \")\" +\n    color +\n    '\"' +\n    className +\n    \">\" +\n    year +\n    \"</div>\"\n  );\n}\n\nfunction buildHistogram(node, comics) {\n  if (!entity) return { values: [], entityYearMap: {}, start: curYear, end: startYear, sum: 0 }; // Guard against empty entity\n  if (histograms[entity][node] && !comics) return histograms[entity][node];\n  const histo = {\n    values: new Array(totalYears).fill(0),\n    entityYearMap: {},\n    start: curYear,\n    end: startYear,\n    sum: 0,\n  };\n  (comics || getNodeComics(node)).forEach((c) => {\n    const comicYear = new Date(c.date).getFullYear();\n    const comicEntities = c[entity as EntityType];\n    if (!comicEntities) return; // Skip if entity data is missing\n    comicEntities.forEach((e) => {\n      if (!histo.entityYearMap[comicYear]) histo.entityYearMap[comicYear] = {};\n      if (!histo.entityYearMap[comicYear][e]) histo.entityYearMap[comicYear][e] = 0;\n      histo.entityYearMap[comicYear][e]++;\n    });\n    histo.values[comicYear - startYear] += 1;\n    histo.start = Math.min(histo.start, comicYear);\n    histo.end = Math.max(histo.end, comicYear);\n    histo.sum += 1;\n  });\n  if (!comics) histograms[entity][node] = histo;\n  return histo;\n}\n\nhistogramContainer.onmouseenter = () => {\n  if (!renderer) return;\n  currentReducers = {\n    nodes: (renderer.getSetting(\"nodeReducer\") as any) || null,\n    edges: (renderer.getSetting(\"edgeReducer\") as any) || null,\n  };\n};\nhistogramContainer.onmouseleave = () => {\n  if (!renderer) return;\n  renderer.setSetting(\"nodeReducer\", currentReducers.nodes);\n  renderer.setSetting(\"edgeReducer\", currentReducers.edges);\n};\n\nfunction renderHistogram(node: string | null = null, comics: Comic[] | null = null): void {\n  if (!entity) return; // Guard against empty entity\n  const histogram = buildHistogram(node, comics);\n\n  const maxWidth = divWidth(comicsBarView ? \"comics-bar\" : \"sidebar\"),\n    heightRatio = 32 / Math.max(...histogram.values),\n    _barWidth = Math.round((1000 * maxWidth) / totalYears) / 1000;\n\n  comicsTitle.innerHTML =\n    formatNumber(histogram.sum) +\n    \" comic\" +\n    (histogram.sum > 1 ? \"s\" : \"\") +\n    (selectedNodeLabel\n      ? \"&nbsp;\" +\n        (selectedNodeType === \"creators\" ? \"by\" : \"with\") +\n        ' <span class=\"red\">' +\n        selectedNodeLabel.replace(/ /g, \"&nbsp;\") +\n        \"</span>\"\n      : \"\") +\n    \" between \" +\n    histogram.start +\n    \"&nbsp;&amp;&nbsp;\" +\n    histogram.end +\n    (hasClass(filterComics, \"selected\") && filterInput.value\n      ? \" matching <i>\" + filterInput.value + \"</i>\"\n      : \"\");\n\n  let histo = \"\";\n  histogram.values.forEach(\n    (y, _idx) =>\n      (histo +=\n        '<span class=\"histobar\" ' +\n        'style=\"width: ' +\n        100 / totalYears +\n        \"%; \" +\n        \"height: \" +\n        Math.round(y * heightRatio) +\n        'px\">' +\n        \"</span>\"),\n  );\n  histogramDiv.innerHTML = histo;\n  histogramDiv.style.opacity = \"1\";\n\n  let hover = \"\";\n  histogram.values.forEach(\n    (y, idx) =>\n      (hover +=\n        '<span class=\"histobar-hover\" year=\"' +\n        (startYear + idx) +\n        '\" ' +\n        'tooltip=\"' +\n        (y ? y + \"&nbsp;comic\" + (y > 1 ? \"s\" : \"\") + \"&nbsp;in&nbsp;\" : \"\") +\n        (startYear + idx) +\n        '\" ' +\n        'style=\"width: ' +\n        100 / totalYears +\n        '%\">' +\n        \"</span>\"),\n  );\n  histogramHover.innerHTML = hover;\n  histogramHover.style.opacity = \"1\";\n\n  const legendYears = [startYear, 1960, 1980, 2000, curYear];\n  let legend = \"\";\n  if (legendYears.indexOf(histogram.start) === -1) legendYears.push(histogram.start);\n  legendYears.sort().forEach((y) => {\n    if (y + 12 < histogram.start) legend += buildLegendItem(y, \"old\");\n    else if (y - 12 > histogram.start) legend += buildLegendItem(y);\n    else if (y === histogram.start)\n      legend += buildLegendItem(\n        histogram.start,\n        node === null && (!comics || comics.length === allComics.length) ? \"\" : \"start\",\n      );\n  });\n  histogramLegend.innerHTML = legend;\n\n  (document.querySelectorAll(\".histobar-hover\") as NodeListOf<HTMLElement>).forEach((bar) => {\n    bar.onmouseenter = (e) => {\n      const tooltip = bar.getAttribute(\"tooltip\"),\n        yearStr = bar.getAttribute(\"year\");\n      if (!tooltip || !yearStr) return clearTooltip(e, \"histogram-tooltip\");\n      const year = parseInt(yearStr, 10);\n      histoTooltip.innerHTML = tooltip;\n      histoTooltip.style.display = \"inline-block\";\n      const dims = bar.getBoundingClientRect(),\n        tooltipWidth = divWidth(\"histogram-tooltip\"),\n        minLeft = histogramContainer.getBoundingClientRect().x,\n        maxLeft = divWidth(\"sigma-container\");\n      histoTooltip.style.left =\n        Math.min(\n          maxLeft - minLeft - tooltipWidth - 1,\n          Math.max(3, dims.x - minLeft - tooltipWidth / 2),\n        ) + \"px\";\n      const yearMap = histogram.entityYearMap?.[year];\n      if (yearMap && renderer && histogram.sum) {\n        const comicsRatio = allComics.length / histogram.sum;\n        renderer.setSetting(\"nodeReducer\", (n, attrs) =>\n          yearMap[n] !== undefined\n            ? {\n                ...attrs,\n                size: 1.5 * computeNodeSize(Math.pow(yearMap[n] * comicsRatio, 1.3)),\n                haloSize: 3.5 * computeNodeSize(Math.pow(yearMap[n] * comicsRatio, 1.3)),\n                haloIntensity: 0.15 * Math.log(yearMap[n] * comicsRatio),\n                zIndex: 2,\n              }\n            : {\n                ...attrs,\n                zIndex: 0,\n                type: \"circle\",\n                haloIntensity: 0,\n                color: \"#2A2A2A\",\n                size: sigmaDim && sigmaDim < 500 ? 1 : 2,\n                label: null,\n              },\n        );\n        renderer.setSetting(\"edgeReducer\", (edge, attrs) => {\n          if (!entity) return { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true };\n          const graph = networks[entity].graph;\n          return graph &&\n            yearMap[graph.source(edge)] !== undefined &&\n            yearMap[graph.target(edge)] !== undefined\n            ? { ...attrs, zIndex: 0, color: \"#444\", size: 1 }\n            : { ...attrs, zIndex: 0, color: \"#FFF\", hidden: true };\n        });\n      }\n    };\n    bar.ontouchstart = (e) => {\n      e.preventDefault();\n      document\n        .querySelectorAll(\".histobar-hover.highlighted\")\n        .forEach((b) => rmClass(b as HTMLElement, \"highlighted\"));\n      const touch = e.touches[0];\n      if (!touch) return;\n      const x = touch.clientX,\n        y = touch.clientY;\n      (document.querySelectorAll(\".histobar-hover\") as NodeListOf<HTMLElement>).forEach((b) => {\n        const bDims = b.getBoundingClientRect();\n        if (x >= bDims.left && x <= bDims.right && y >= bDims.top && y <= bDims.bottom) {\n          addClass(b, \"highlighted\");\n          if (b.onmouseenter) b.onmouseenter(e as any);\n        }\n      });\n    };\n    bar.ontouchmove = bar.ontouchstart;\n  });\n  if (histogramHover) {\n    histogramHover.onmouseleave = (e) => clearTooltip(e, \"histogram-tooltip\");\n  }\n  sideBar.ontouchstart = (e) => {\n    const touch = (e.touches || e.changedTouches)[0];\n    if (!touch) return;\n    const dims = histogramContainer.getBoundingClientRect(),\n      x = touch.clientX,\n      y = touch.clientY;\n    if (x < dims.left || x > dims.right || y < dims.top || y > dims.bottom) {\n      clearTooltip(e, \"histogram-tooltip\");\n      document\n        .querySelectorAll(\".histobar-hover.highlighted\")\n        .forEach((b) => rmClass(b as HTMLElement, \"highlighted\"));\n    }\n  };\n  comicsBar.ontouchstart = sideBar.ontouchstart;\n}\n\n/* -- Responsiveness handling -- */\n\nlet resizing: NodeJS.Timeout | boolean | null = null;\n\nfunction resize(fast = false) {\n  logDebug(\"RESIZE\");\n  if (!fast) resizing = true;\n\n  const _graph = entity ? networks[entity].graph : null,\n    freeHeight =\n      divHeight(\"sidebar\") -\n      divHeight(\"header\") -\n      divHeight(\"choices\") -\n      divHeight(\"credits\") -\n      1 +\n      \"px\";\n  explanations.style.opacity = \"1\";\n  explanations.style.height = freeHeight;\n  explanations.style[\"min-height\"] = freeHeight;\n  nodeDetails.style.height = freeHeight;\n  nodeDetails.style[\"min-height\"] = freeHeight;\n  comicsDiv.style.height =\n    divHeight(\"comics-bar\") - divHeight(\"comics-header\") - divHeight(\"comic-details\") - 11 + \"px\";\n  loader.style.transform =\n    comicsBarView && comicsBar.getBoundingClientRect().x !== 0\n      ? \"translateX(-\" + divWidth(\"comics-bar\") / 2 + \"px)\"\n      : \"\";\n\n  const comicsDims = comicsDiv.getBoundingClientRect();\n  [\"width\", \"height\", \"top\"].forEach((k) => (comicsCache.style[k] = comicsDims[k] + \"px\"));\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  updateShift();\n\n  const legendLeft = divWidth(\"sidebar\") + divWidth(\"controls\") + 5;\n  legendDiv.style.left = legendLeft + \"px\";\n  legendDiv.style.width =\n    \"calc(100% - \" +\n    (25 +\n      legendLeft +\n      (comicsBarView && comicsBar.getBoundingClientRect().x !== 0 ? divWidth(\"comics-bar\") : 0)) +\n    \"px)\";\n\n  if (!fast && renderer) {\n    if (!entity) return; // Guard against empty entity\n    const graph = networks[entity].graph;\n    if (!graph) return;\n    let maxSize = 0;\n    graph.updateEachNodeAttributes(\n      (_node, attrs) => {\n        const size = computeNodeSize(attrs.stories);\n        maxSize = Math.max(maxSize, size);\n        return {\n          ...attrs,\n          size: size,\n          borderSize: sigmaDim ? sigmaDim / 1500 : 0,\n          haloSize: size * 5,\n        };\n      },\n      { attributes: [\"size\", \"borderSize\", \"haloSize\"] },\n    );\n    renderer.setSetting(\"labelRenderedSizeThreshold\", maxSize - 5);\n  }\n  if (!fast) resizing = false;\n}\n\nwindow.onresize = () => {\n  if (resizing === true) return;\n  if (resizing) clearTimeout(resizing);\n  resizing = setTimeout(resize, 0);\n};\n\n/* -- URL actions routing -- */\n\nfunction setURL(\n  ent: EntityType,\n  sel: string | null = null,\n  selType: EntityType | null = null,\n  comics: string | null = null,\n  sort: \"date\" | \"alpha\" = \"date\",\n): void {\n  const opts: string[] = [];\n  if (\n    sel !== null &&\n    !(\n      ent === selType &&\n      !(networks[ent].graph && networks[ent].graph?.findNode((node, { label }) => label === sel))\n    )\n  )\n    opts.push(((selType || ent) as string).replace(/s$/, \"\") + \"=\" + sel.replace(/ /g, \"+\"));\n  if (comics !== null) {\n    opts.push(\"comics\" + (comics ? \"=\" + comics : \"\"));\n    if (sort === \"alpha\") opts.push(\"sort=\" + sort);\n  }\n\n  window.location.hash = \"/\" + ent + \"/\" + (opts.length ? \"?\" + opts.join(\"&\") : \"\");\n}\n\nfunction readURL() {\n  const args = window.location.hash.replace(/^#\\//, \"\").split(/\\/\\??/);\n  if (args.length !== 2 || [\"characters\", \"creators\"].indexOf(args[0]) === -1)\n    return setURL(\"characters\");\n  const opts = Object.fromEntries(\n    args[1]\n      .split(\"&\")\n      .map((o) => (/=/.test(o) ? o.split(\"=\") : [o, \"\"]))\n      .filter((o) => [\"creator\", \"character\", \"comics\", \"sort\"].indexOf(o[0]) !== -1),\n  );\n\n  const ent = args[0],\n    reload = ent !== entity;\n\n  const oldNodeLabel = selectedNodeLabel;\n  selectedNodeLabel = null;\n  searchInput.value = \"\";\n  [\"character\", \"creator\"].forEach((e) => {\n    if (opts[e]) {\n      selectedNodeType = (e + \"s\") as EntityType;\n      selectedNodeLabel = decodeURIComponent(opts[e].replace(/\\+/g, \" \"));\n      searchInput.value = selectedNodeLabel;\n    }\n  });\n  const clickn = selectedNodeLabel !== oldNodeLabel;\n\n  const oldComic = selectedComic,\n    oldSort = sortComics,\n    shouldComicsBarView = opts[\"comics\"] !== undefined;\n  selectedComic = shouldComicsBarView ? allComicsMap[opts[\"comics\"]] || opts[\"comics\"] || \"\" : null;\n  sortComics = opts[\"sort\"] || \"date\";\n  switchClass(sortDate, \"selected\", sortComics === \"date\");\n  switchClass(sortAlpha, \"selected\", sortComics === \"alpha\");\n\n  const dispc =\n    (shouldComicsBarView && !comicsBarView) || selectedComic !== oldComic || sortComics !== oldSort;\n\n  logDebug(\"READ URL\", {\n    args,\n    ent,\n    opts,\n    reload,\n    clickn,\n    oldNodeLabel,\n    selectedNodeLabel,\n    dispc,\n    oldComic,\n    selectedComic,\n    shouldComicsBarView,\n    oldSort,\n    sortComics,\n  });\n\n  // Update titles\n  let title =\n    \"Marvel's \" +\n    ent +\n    \" \" +\n    (ent === \"creators\" ? \"credited\" : \"featured\") +\n    \" together within same&nbsp;comics\";\n  if (selectedNodeLabel)\n    title +=\n      \" \" +\n      (selectedNodeType === ent ? \"as\" : selectedNodeType === \"creators\" ? \"from\" : \"casting\") +\n      \" \";\n  const titleElement = document.querySelector(\"title\");\n  if (titleElement) {\n    titleElement.innerHTML = \"MARVEL graphs &mdash; Map of \" + title + (selectedNodeLabel || \"\");\n  }\n  const titleDiv = document.getElementById(\"title\");\n  if (titleDiv) {\n    titleDiv.innerHTML = title.replace(ent, '<span class=\"red\">' + ent + \"</span>\");\n  }\n  nodeLabel.style.display = selectedNodeLabel ? \"inline-block\" : \"none\";\n  nodeLabel.innerHTML = selectedNodeLabel || \"\";\n  resize(true);\n\n  if (reload) {\n    // Hide canvases\n    (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(\n      (canvas) => (canvas.style.display = \"none\"),\n    );\n    if (clustersLayer) {\n      clustersLayer.innerHTML = \"\";\n      clustersLayer.style.display = \"none\";\n    }\n    showLoader();\n    loader.style.opacity = \"1\";\n\n    // Clear highlighted node from previous graph so it won't remain further on\n    if (entity && selectedNode) {\n      const prevGraph = networks[entity].graph;\n      if (prevGraph && prevGraph.hasNode(selectedNode))\n        prevGraph.setNodeAttribute(selectedNode, \"highlighted\", false);\n    }\n\n    // Setup Sidebar default content\n    orderSpan.innerHTML = \"...\";\n\n    if (ent === \"creators\")\n      Object.keys(creatorsRoles).forEach((k) => {\n        const role = document.getElementById(k + \"-color\");\n        if (role) {\n          role.style.color = lightenColor(creatorsRoles[k]);\n          role.innerHTML = k + \" (...)\";\n        }\n      });\n    else\n      document.querySelectorAll(\"#clusters-legend .color\").forEach((el) => (el.innerHTML = \"...\"));\n  }\n\n  // Setup Node type switch\n  switchNodeType.checked = ent === \"creators\";\n  entity = ent as EntityType;\n  entitySpans.forEach((span) => (span.innerHTML = entity));\n  charactersDetailsSpans.forEach(\n    (span) => (span.style.display = entity === \"characters\" ? \"inline\" : \"none\"),\n  );\n  creatorsDetailsSpans.forEach(\n    (span) => (span.style.display = entity === \"creators\" ? \"inline\" : \"none\"),\n  );\n  const cooccurrenceEl = document.getElementById(\"cooccurrence-threshold\");\n  if (cooccurrenceEl) {\n    cooccurrenceEl.innerHTML = conf[\"cooccurrence_threshold_for_\" + entity];\n  }\n\n  // Update tooltips\n  viewComicsButton.setAttribute(\n    \"tooltip\",\n    \"browse the list of \" +\n      (!selectedNodeLabel\n        ? \"all comics and their associated creators & characters\"\n        : \"comics listed as \" +\n          (selectedNodeType === \"creators\" ? \"authored by\" : \"featuring\") +\n          \" '\" +\n          selectedNodeLabel +\n          \"'\"),\n  );\n  searchInput.setAttribute(\n    \"tooltip\",\n    selectedNodeLabel ? \"change focused 'entity'\" : \"search a specific 'entity' in the graph\",\n  );\n  switchTypeLabel.setAttribute(\n    \"tooltip\",\n    \"switch to the network of '\" +\n      (entity === \"creators\" ? \"characters\" : \"creators\") +\n      \"'\" +\n      (!selectedNodeLabel\n        ? \"\"\n        : \" \" +\n          (entity === \"creators\" ? \"featured\" : \"credited\") +\n          \" in comics \" +\n          (selectedNodeType === \"creators\" ? \"from\" : \"with\") +\n          \" '\" +\n          selectedNodeLabel +\n          \"'\"),\n  );\n  if (sortComics === \"date\") {\n    sortDate.setAttribute(\"tooltip\", \"comics are ordered by 'publication date'\");\n    sortAlpha.setAttribute(\"tooltip\", \"sort comics by 'title &amp; issue number'\");\n  } else {\n    sortDate.setAttribute(\"tooltip\", \"sort comics by 'publication date'\");\n    sortAlpha.setAttribute(\"tooltip\", \"comics are ordered by 'title and issue number'\");\n  }\n\n  const graph = networks[entity].graph;\n  if (reload)\n    setTimeout(() => {\n      // If graph already loaded, just render it\n      stopPlayComics();\n      if (graph) renderNetwork(shouldComicsBarView);\n      // Otherwise load network file\n      else loadNetwork(entity, () => renderNetwork(shouldComicsBarView));\n    }, 0);\n  else if (clickn) {\n    stopPlayComics();\n    const _network = networks[entity];\n    if (selectedNodeType !== entity && selectedNodeType) {\n      loadNetwork(\n        selectedNodeType,\n        () => {\n          if (selectedNodeType) {\n            clickNode(\n              networks[selectedNodeType].graph?.findNode(\n                (n, { label }) => label === selectedNodeLabel,\n              ) || null,\n              false,\n            );\n          }\n        },\n        true,\n      );\n    } else\n      clickNode(\n        graph?.findNode((n, { label }) => label === (selectedNodeLabel || \"\")) || null,\n        false,\n      );\n  } else if (dispc) {\n    if (!shouldComicsBarView) hideComicsBar();\n    else if (!comicsBarView || oldSort !== sortComics)\n      displayComics(selectedNode, true, oldSort === sortComics);\n    else if (selectedComic) selectComic(selectedComic, true);\n    else unselectComic();\n    hideLoader();\n  }\n}\n\n/* -- Init app -- */\n\ndisableSwitchButtons();\n\ncomicsSubtitle.innerHTML =\n  \"as \" +\n  Object.keys(creatorsRoles)\n    .map((x) => '<span style=\"color: ' + lightenColor(creatorsRoles[x]) + '\">' + x + \"</span>\")\n    .join(\",&nbsp;\")\n    .replace(/,&nbsp;([^&]+)$/, \" or $1\");\n\n// Collect algo's metadata to feed explanations\nfetch(\"./config.yml.example\")\n  .then((res) => res.text())\n  .then((confData) => {\n    confData.split(\"\\n\").forEach((line) => {\n      const keyval = line.split(/:\\s*/);\n      conf[keyval[0]] = keyval[1];\n    });\n\n    // Check WebGL\n    if (!webGLSupport()) {\n      const webglDisclaimer = document.getElementById(\"webgl-disclaimer\");\n      if (webglDisclaimer) {\n        webglDisclaimer.style.display = \"block\";\n      }\n      return;\n    }\n\n    // Init graph with first url\n    defaultSidebar();\n    window.onhashchange = readURL;\n    readURL();\n  });\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function c(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var u=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function h(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function l(t){return!!s(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},w=\"object\"==typeof Reflect?Reflect:null,v=w&&\"function\"==typeof w.apply?w.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};g=w&&\"function\"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var b=Number.isNaN||function(t){return t!=t};function m(){m.init.call(this)}y.exports=m,y.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&U(t,\"error\",e,n)}(t,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var k=10;function _(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function G(t){return void 0===t._maxListeners?m.defaultMaxListeners:t._maxListeners}function x(t,e,n,r){var i,o,a,c;if(_(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=G(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):D(i,i.length)}function S(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(m,\"defaultMaxListeners\",{enumerable:!0,get:function(){return k},set:function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");k=t}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},m.prototype.getMaxListeners=function(){return G(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if(\"function\"==typeof c)v(c,this,e);else{var u=c.length,d=D(c,u);for(n=0;n<u;++n)v(d[n],this,e)}return!0},m.prototype.addListener=function(t,e){return x(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return x(this,t,e,!0)},m.prototype.once=function(t,e){return _(e),this.on(t,A(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return _(e),this.prependListener(t,A(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,r,i,o,a;if(_(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},m.prototype.listeners=function(t){return L(this,t,!0)},m.prototype.rawListeners=function(t){return L(this,t,!1)},m.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},m.prototype.listenerCount=S,m.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},\"undefined\"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=N,j={};j.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,j.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var C=O,M=j,z=M.ARRAY_BUFFER_SUPPORT,W=M.SYMBOL_SUPPORT;var P=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||z&&ArrayBuffer.isView(t)?C.fromSequence(t):\"object\"!=typeof t||null===t?null:W&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},R=P,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=R(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},T=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T);function Y(t,e){this.key=t,this.attributes=e,this.clear()}function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},J.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},V.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},V.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},V.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},V.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function H(t,e,n,r,i,o,a){var c,u,d,s;if(r=\"\"+r,0===n){if(!(c=t._nodes.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));d=i,s=o}else if(3===n){if(i=\"\"+i,!(u=t._edges.get(i)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=u.source.key,p=u.target.key;if(r===h)c=u.target;else{if(r!==p)throw new F(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));c=u.source}d=o,s=a}else{if(!(u=t._edges.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));c=1===n?u.source:u.target,d=i,s=o}return[c,d,s]}var Q=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return H(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];return c.attributes[u]=d,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];if(\"function\"!=typeof d)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));var s=c.attributes,h=d(s[u]);return s[u]=h,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:c}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=c,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(a.attributes,c),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=c(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=d(this,i,o,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var Z=O,$=P,tt=function(){var t=arguments,e=null,n=-1;return new Z((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=$(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},et=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function nt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function rt(t,e,n,r){var i,o,a,c=!1;for(var u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&c)return i.key;i=i.next}while(void 0!==i)}}function it(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ot(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function at(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ut(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,c=t._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,c=\"undirected\"===n,u=!1,d=e._edges.values();!0!==(i=d.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,h=s.key,p=s.attributes,f=s.source,l=s.target;if(u=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&u)return h}}function st(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function ht(t,e,n,r,i,o){var a,c=e?rt:nt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=c(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=c(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=c(t,i.undirected,o),t&&a))return a}function pt(t,e,n,r){var i=[];return ht(!1,t,e,n,r,(function(t){i.push(t)})),i}function ft(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=tt(r,it(n.in))),\"in\"!==e&&void 0!==n.out&&(r=tt(r,it(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=tt(r,it(n.undirected))),r}function lt(t,e,n,r,i,o,a){var c,u=n?at:ot;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(c=u(t,i.in,o,a),t&&c))return c;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(c=u(t,i.out,o,a),t&&c))return c}if(\"directed\"!==e&&void 0!==i.undirected&&(c=u(t,i.undirected,o,a),t&&c))return c}function gt(t,e,n,r,i){var o=[];return lt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function yt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=tt(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=tt(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=tt(i,ct(n.undirected,r))),i}var wt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function vt(){this.A=null,this.B=null}function bt(t,e,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,d=c===n?u:c;if(!e||!e.has(d.key)){var s=i(d.key,d.attributes);if(t&&s)return d.key}}}function mt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return bt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return bt(t,null,r,r[n],i)}var o,a=new vt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=bt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=bt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=bt(t,a,r,r.undirected,i),t&&o))return o}function kt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,d=c.target;a=u===e?d:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function _t(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return mt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function Gt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return kt(null,n,n.undirected);if(\"string\"==typeof e)return kt(null,n,n[e])}var r=O.empty(),i=new vt;return\"undirected\"!==t&&(\"out\"!==e&&(r=tt(r,kt(i,n,n.in))),\"in\"!==e&&(r=tt(r,kt(i,n,n.out)))),\"directed\"!==t&&(r=tt(r,kt(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e,n,r,i){for(var o,a,c,u,d,s,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(c in u=a.out){d=u[c];do{if(s=d.target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(\"directed\"!==f)for(c in u=a.undirected)if(!(e&&a.key>c)){d=u[c];do{if((s=d.target).key!==c&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Et(t){if(!s(t))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new B(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function At(t){if(!s(t))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new B(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new B(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new B(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}vt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},vt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Lt,St=(Lt=255&Math.floor(256*Math.random()),function(){return Lt++}),Dt=new Set([\"directed\",\"undirected\",\"mixed\"]),Ut=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),Nt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function jt(t,e,n,r,i,o,a,c){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(c&&!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));if(o=\"\"+o,a=\"\"+a,c=c||{},!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var u=t._nodes.get(o),d=t._nodes.get(a);if(!u)throw new F(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!d)throw new F(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var h={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new I(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new V(r,i,u,d,c);t._edges.set(i,p);var f=o===a;return r?(u.undirectedDegree++,d.undirectedDegree++,f&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,f&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit(\"edgeAdded\",h),i}function Ct(t,e,n,r,i,o,a,c,d){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(c)if(d){if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(c,'\"'))}else if(!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));var h;if(o=\"\"+o,a=\"\"+a,d&&(h=c,c=void 0),!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new I(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(d?!h:!c)return y;if(d){var w=f.attributes;f.attributes=h(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else u(f.attributes,c),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},d&&h&&(c=h(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new V(r,i,l,g,c),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,g.inDegree++,k&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var zt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=u({},Nt,t)).multi)throw new B(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Dt.has(t.type))throw new B('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new B(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?Y:\"directed\"===t.type?q:J;p(c(e),\"NodeDataClass\",r);var i=\"geid_\"+St()+\"_\",o=0;return p(c(e),\"_attributes\",{}),p(c(e),\"_nodes\",new Map),p(c(e),\"_edges\",new Map),p(c(e),\"_directedSize\",0),p(c(e),\"_undirectedSize\",0),p(c(e),\"_directedSelfLoopCount\",0),p(c(e),\"_undirectedSelfLoopCount\",0),p(c(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),p(c(e),\"_options\",t),Ut.forEach((function(t){return p(c(e),t,e[t])})),f(c(e),\"order\",(function(){return e._nodes.size})),f(c(e),\"size\",(function(){return e._edges.size})),f(c(e),\"directedSize\",(function(){return e._directedSize})),f(c(e),\"undirectedSize\",(function(){return e._undirectedSize})),f(c(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),f(c(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),f(c(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),f(c(e),\"multi\",e._options.multi),f(c(e),\"type\",e._options.type),f(c(e),\"allowSelfLoops\",e._options.allowSelfLoops),f(c(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new B(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new I(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new F('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new F('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new F('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new I('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!s(e))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(u(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new F('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=d(this,n,r,this.type)))throw new F('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new F('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new F('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t,e,\"undirected\");if(!n)throw new F('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new B(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!s(t))throw new B(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!s(t))throw new B(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return u(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntry: expecting a callback.\");xt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");xt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new B(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=u({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=u({},n.attributes)),\"mixed\"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){u?c.mergeNode(t,e):c.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(t,n,r,e):c.mergeDirectedEdgeWithKey(t,n,r,e):a?c.addUndirectedEdgeWithKey(t,n,r,e):c.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!s(t))throw new B(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!s(t.attributes))throw new B(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new B(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=i.length;e<n;e++){Et(o=i[e]);var d=o,h=d.key,p=d.attributes;u?this.mergeNode(h,p):this.addNode(h,p)}}if(t.edges){var f=!1;if(\"undirected\"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new B(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=i.length;e<n;e++){At(a=i[e]);var l=a,g=l.source,y=l.target,w=l.attributes,v=l.undirected,b=void 0===v?f:v;\"key\"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,w):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,w)}}return this},i.nullCopy=function(t){var e=new r(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=u({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new I('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new I(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new I(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)jt(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",c=\"\",u=t.source.key,d=t.target.key;t.undirected&&u>d&&(o=u,u=d,d=o);var s=\"(\".concat(u,\")\").concat(a,\"(\").concat(d,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+=\"\".concat(i[s],\". \")):c+=\"[\".concat(n,\"]: \"),r[c+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Ut.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,\"constructor\",this.constructor),o},r}(y.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(zt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=zt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?jt:Ct;t.generateKey?zt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:zt.prototype[n]=function(i,o,a,c){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,c,\"update\"===e)}}))})),function(t){Q.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(zt),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(zt),function(t){et.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return ut(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return pt(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(r,this.multi,i,a,e)}throw new B(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!1,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,c,u,d){t[a++]=n(e,r,i,o,c,u,d)}))}else t=[],e.push((function(e,r,i,o,a,c,u){t.push(n(e,r,i,o,a,c,u))}));return this[o].apply(this,e),t};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,c,u){e(t,r,i,o,a,c,u)&&n.push(t)})),this[o].apply(this,t),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B(\"Graph.\".concat(u,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,c,u){r=t(r,e,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!0,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return e(t,n,r,i,o,a,c)})),!!this[o].apply(this,t)};var c=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return!e(t,n,r,i,o,a,c)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ft(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,i,a,e)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(zt),function(t){wt.forEach((function(e){_t(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));mt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return mt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var c=\"some\"+o;t.prototype[c]=function(t,e){return!!this[a](t,e)};var u=\"every\"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),Gt(t,e)}))}(zt);var Wt=function(t){function n(e){var n=u({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new B('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Pt=function(t){function n(e){var n=u({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new B('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Rt=function(t){function n(e){var n=u({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(zt),Kt=function(t){function n(e){var n=u({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Tt=function(t){function n(e){var n=u({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt);function Bt(t){t.from=function(e,n){var r=u({},e.options,n),i=new t(r);return i.import(e),i}}return Bt(zt),Bt(Wt),Bt(Pt),Bt(Rt),Bt(Kt),Bt(Tt),zt.Graph=zt,zt.DirectedGraph=Wt,zt.UndirectedGraph=Pt,zt.MultiGraph=Rt,zt.MultiDirectedGraph=Kt,zt.MultiUndirectedGraph=Tt,zt.InvalidArgumentsGraphError=B,zt.NotFoundGraphError=F,zt.UsageGraphError=I,zt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines but with a twist: the end of edge\n * does not sit in the middle of target node but instead stays by some margin.\n *\n * This is useful when combined with arrows to draw directed edges.\n * @module\n */\nvar edge_rectangle_1 = __importDefault(require(\"./edge.rectangle\"));\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar utils_1 = require(\"../../../utils\");\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeClampedProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: edge_clamped_vert_glsl_1.default, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n            ] });\n    };\n    EdgeClampedProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var radius = targetData.size || 1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    return EdgeClampedProgram;\n}(edge_rectangle_1.default));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","// Forked from Sigma.js to handle node border attributes used by @Yomguithereal's NodePointWithBorderProgram from sigma-experiments: https://github.com/Yomguithereal/sigma-experiments/blob/master/renderers/src/node/node.point.border.ts\n\n/* Sigma.js WebGL Renderer Node Program\n * =====================================\n *\n * Program rendering nodes using GL_POINTS, but that draws an image on top of\n * the classic colored disc.\n * @module\n */\nimport Sigma from \"sigma\";\nimport { Coordinates, Dimensions, NodeDisplayData, RenderParams } from \"sigma/types\";\nimport { floatColor } from \"sigma/utils\";\nimport VERTEX_SHADER_SOURCE from \"sigma/rendering/webgl/shaders/node.image.vert.glsl\";\nimport FRAGMENT_SHADER_SOURCE from \"sigma/rendering/webgl/shaders/node.image.frag.glsl\";\nimport { NodeProgram, NodeProgramConstructor } from \"sigma/rendering/webgl/programs/common/node\";\n\ninterface NodeDisplayDataWithBorder extends NodeDisplayData {\n  borderColor?: string;\n  borderRatio?: number;\n  borderSize?: number;\n}\n\n// maximum size of single texture in atlas\nconst MAX_TEXTURE_SIZE = 96;\n// maximum width of atlas texture (limited by browser)\n// low setting of 3072 works on phones & tablets\nconst MAX_CANVAS_WIDTH = 4096;\n\ntype ImageLoading = { status: \"loading\" };\ntype ImageError = { status: \"error\" };\ntype ImagePending = { status: \"pending\"; image: HTMLImageElement };\ntype ImageReady = { status: \"ready\" } & Coordinates & Dimensions;\ntype ImageType = ImageLoading | ImageError | ImagePending | ImageReady;\n\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nexport default function getNodeProgramImage(\n  maxTextureSize = MAX_TEXTURE_SIZE,\n): NodeProgramConstructor {\n  /**\n   * These attributes are shared between all instances of this exact class,\n   * returned by this call to getNodeProgramImage:\n   */\n  const rebindTextureFns: (() => void)[] = [];\n  const images: Record<string, ImageType> = {};\n  let textureImage: ImageData;\n  let hasReceivedImages = false;\n  let pendingImagesFrameID: number | undefined = undefined;\n\n  // next write position in texture\n  let writePositionX = 0;\n  let writePositionY = 0;\n  // height of current row\n  let writeRowHeight = 0;\n\n  interface PendingImage {\n    image: HTMLImageElement;\n    id: string;\n    size: number;\n  }\n\n  /**\n   * Helper to load an image:\n   */\n  function loadImage(imageSource: string): void {\n    if (images[imageSource]) return;\n\n    const image = new Image();\n    image.addEventListener(\"load\", () => {\n      images[imageSource] = {\n        status: \"pending\",\n        image,\n      };\n\n      if (typeof pendingImagesFrameID !== \"number\") {\n        pendingImagesFrameID = requestAnimationFrame(() => finalizePendingImages());\n      }\n    });\n    image.addEventListener(\"error\", () => {\n      images[imageSource] = { status: \"error\" };\n    });\n    images[imageSource] = { status: \"loading\" };\n\n    // Load image:\n    image.setAttribute(\"crossOrigin\", \"\");\n    image.src = imageSource;\n  }\n\n  /**\n   * Helper that takes all pending images and adds them into the texture:\n   */\n  function finalizePendingImages(): void {\n    pendingImagesFrameID = undefined;\n\n    const pendingImages: PendingImage[] = [];\n\n    // List all pending images:\n    for (const id in images) {\n      const state = images[id];\n      if (state.status === \"pending\") {\n        pendingImages.push({\n          id,\n          image: state.image,\n          size: Math.min(state.image.width, state.image.height) || 1,\n        });\n      }\n    }\n\n    // Add images to texture:\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true }) as CanvasRenderingContext2D;\n\n    // limit canvas size to avoid browser and platform limits\n    let totalWidth = hasReceivedImages ? textureImage.width : 0;\n    let totalHeight = hasReceivedImages ? textureImage.height : 0;\n\n    // initialize image drawing offsets with current write position\n    let xOffset = writePositionX;\n    let yOffset = writePositionY;\n\n    /**\n     * Draws a (full or partial) row of images into the atlas texture\n     * @param pendingImages\n     */\n    const drawRow = (pendingImages: PendingImage[]) => {\n      // update canvas size before drawing\n      if (canvas.width !== totalWidth || canvas.height !== totalHeight) {\n        canvas.width = Math.min(MAX_CANVAS_WIDTH, totalWidth);\n        canvas.height = totalHeight;\n\n        // draw previous texture into resized canvas\n        if (hasReceivedImages) {\n          ctx.putImageData(textureImage, 0, 0);\n        }\n      }\n\n      pendingImages.forEach(({ id, image, size }) => {\n        const imageSizeInTexture = Math.min(maxTextureSize, size);\n\n        // Crop image, to only keep the biggest square, centered:\n        let dx = 0,\n          dy = 0;\n        if ((image.width || 0) > (image.height || 0)) {\n          dx = (image.width - image.height) / 2;\n        } else {\n          dy = (image.height - image.width) / 2;\n        }\n        ctx.drawImage(\n          image,\n          dx,\n          dy,\n          size,\n          size,\n          xOffset,\n          yOffset,\n          imageSizeInTexture,\n          imageSizeInTexture,\n        );\n\n        // Update image state:\n        images[id] = {\n          status: \"ready\",\n          x: xOffset,\n          y: yOffset,\n          width: imageSizeInTexture,\n          height: imageSizeInTexture,\n        };\n\n        xOffset += imageSizeInTexture;\n      });\n\n      hasReceivedImages = true;\n      textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    };\n\n    let rowImages: PendingImage[] = [];\n    pendingImages.forEach((image) => {\n      const { size } = image;\n      const imageSizeInTexture = Math.min(size, maxTextureSize);\n\n      if (writePositionX + imageSizeInTexture > MAX_CANVAS_WIDTH) {\n        // existing row is full: flush row and continue on next line\n        if (rowImages.length > 0) {\n          totalWidth = Math.max(writePositionX, totalWidth);\n          totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n          drawRow(rowImages);\n\n          rowImages = [];\n          writeRowHeight = 0;\n        }\n\n        writePositionX = 0;\n        writePositionY = totalHeight;\n        xOffset = 0;\n        yOffset = totalHeight;\n      }\n\n      // add image to row\n      rowImages.push(image);\n\n      // advance write position and update maximum row height\n      writePositionX += imageSizeInTexture;\n      writeRowHeight = Math.max(writeRowHeight, imageSizeInTexture);\n    });\n\n    // flush pending images in row - keep write position (and drawing cursor)\n    totalWidth = Math.max(writePositionX, totalWidth);\n    totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n    drawRow(rowImages);\n    rowImages = [];\n\n    rebindTextureFns.forEach((fn) => fn());\n  }\n\n  const { UNSIGNED_BYTE, FLOAT } = WebGLRenderingContext;\n\n  const UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\", \"u_atlas\"] as const;\n\n  return class NodeImageProgram extends NodeProgram<(typeof UNIFORMS)[number]> {\n    getDefinition() {\n      return {\n        VERTICES: 1,\n        ARRAY_ITEMS_PER_VERTEX: 8,\n        VERTEX_SHADER_SOURCE,\n        FRAGMENT_SHADER_SOURCE,\n        UNIFORMS,\n        ATTRIBUTES: [\n          { name: \"a_position\", size: 2, type: FLOAT },\n          { name: \"a_size\", size: 1, type: FLOAT },\n          { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n          { name: \"a_texture\", size: 4, type: FLOAT },\n        ],\n      };\n    }\n\n    texture: WebGLTexture;\n    latestRenderParams?: RenderParams;\n\n    constructor(gl: WebGLRenderingContext, renderer: Sigma) {\n      super(gl, renderer);\n\n      rebindTextureFns.push(() => {\n        if (this && this.rebindTexture) this.rebindTexture();\n        if (renderer && renderer.refresh) renderer.refresh();\n      });\n\n      textureImage = new ImageData(1, 1);\n\n      this.texture = gl.createTexture() as WebGLTexture;\n      gl.bindTexture(gl.TEXTURE_2D, this.texture);\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        0,\n        gl.RGBA,\n        1,\n        1,\n        0,\n        gl.RGBA,\n        gl.UNSIGNED_BYTE,\n        new Uint8Array([0, 0, 0, 0]),\n      );\n    }\n\n    rebindTexture() {\n      const gl = this.gl;\n\n      gl.bindTexture(gl.TEXTURE_2D, this.texture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n      gl.generateMipmap(gl.TEXTURE_2D);\n\n      if (this.latestRenderParams) this.render(this.latestRenderParams);\n    }\n\n    processVisibleItem(i: number, data: NodeDisplayDataWithBorder & { image?: string }): void {\n      const array = this.array;\n\n      const imageSource = data.image;\n      const imageState = imageSource && images[imageSource];\n      if (typeof imageSource === \"string\" && !imageState) loadImage(imageSource);\n\n      array[i++] = data.x;\n      array[i++] = data.y;\n      array[i++] = data.borderRatio\n        ? (1 - data.borderRatio) * data.size\n        : data.borderSize\n          ? data.size - data.borderSize\n          : data.size;\n      array[i++] = floatColor(data.color);\n\n      // Reference texture:\n      if (imageState && imageState.status === \"ready\") {\n        const { width, height } = textureImage;\n        array[i++] = imageState.x / width;\n        array[i++] = imageState.y / height;\n        array[i++] = imageState.width / width;\n        array[i++] = imageState.height / height;\n      } else {\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i++] = 0;\n      }\n    }\n\n    draw(params: RenderParams): void {\n      this.latestRenderParams = params;\n\n      const gl = this.gl;\n\n      const { u_sizeRatio, u_pixelRatio, u_matrix, u_atlas } = this.uniformLocations;\n\n      gl.uniform1f(u_sizeRatio, params.sizeRatio);\n      gl.uniform1f(u_pixelRatio, params.pixelRatio);\n      gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n      gl.uniform1i(u_atlas, 0);\n\n      gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    }\n  };\n}\n","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.hasMoved = false;\n        _this.touchMode = 0; // number of touches down\n        _this.startTouchesPositions = [];\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, touch, emitter) {\n        var mousePosition = touch || e.touches[0];\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.clientX,\n            clientY: mousePosition.clientY,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouches && this.lastTouches.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouches[0], document);\n            // ... and only click if no move was made\n            if (!this.hasMoved) {\n                this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouches[0]);\n            }\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.hasMoved = false;\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = touchesPositions;\n        // If a move was initiated at some point and we get back to startpoint,\n        // we should still consider that we did move (which also happens after a\n        // multiple touch when only one touch remains in which case handleStart\n        // is recalled within handleLeave).\n        // Now, some mobile browsers report zero-distance moves so we also check that\n        // one of the touches did actually move from the origin position.\n        this.hasMoved || (this.hasMoved = touchesPositions.some(function (position, idx) {\n            var startPosition = _this.startTouchesPositions[idx];\n            return position.x !== startPosition.x || position.y !== startPosition.y;\n        }));\n        // If there was no move, do not trigger touch moves behavior\n        if (!this.hasMoved) {\n            return;\n        }\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Constants.\n */\nvar X_LABEL_MARGIN = 150;\nvar Y_LABEL_MARGIN = 50;\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedNodeLabels = new Set();\n        _this.displayedEdgeLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.nodeHoverPrograms = {};\n        _this.edgePrograms = {};\n        // Resolving settings\n        _this.settings = (0, settings_1.resolveSettings)(settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            var NodeHoverProgram = NodeProgramClass;\n            if (type in _this.settings.nodeHoverProgramClasses) {\n                NodeHoverProgram = _this.settings.nodeHoverProgramClasses[type];\n            }\n            _this.nodeHoverPrograms[type] = new NodeHoverProgram(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.refresh();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this.scheduleRender();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.scheduleRender();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method used to unbind handlers from the graph.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.unbindGraphHandlers = function () {\n        var graph = this.graph;\n        graph.removeListener(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function () {\n        var _this = this;\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.nodePrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(nodesPerPrograms[data.type]++, data);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.edgePrograms[type].reallocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            this.edgePrograms[data.type].process(edgesPerPrograms[data.type]++, sourceData, targetData, data);\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Selecting labels to draw\n        var labelsToDisplay = this.labelGrid.getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity);\n        (0, extend_1.default)(labelsToDisplay, this.nodesWithForcedLabels);\n        this.displayedNodeLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            // NOTE: we can do better probably\n            if (this.displayedNodeLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // NOTE: we can cache the labels we need to render until the camera's ratio changes\n            var size = this.scaleSize(data.size);\n            // Is node big enough?\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            // Is node actually on screen (with some margin)\n            // NOTE: we used to rely on the quadtree for this, but the coordinates\n            // conversion make it unreliable and at that point we already converted\n            // to viewport coordinates and since the label grid already culls the\n            // number of potential labels to display this looks like a good\n            // performance compromise.\n            // NOTE: labelGrid.getLabelsToDisplay could probably optimize by not\n            // considering cells obviously outside of the range of the current\n            // view rectangle.\n            if (x < -X_LABEL_MARGIN ||\n                x > this.width + X_LABEL_MARGIN ||\n                y < -Y_LABEL_MARGIN ||\n                y > this.height + Y_LABEL_MARGIN)\n                continue;\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedNodeLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedNodeLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedNodeLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedNodeLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        this.displayedEdgeLabels = displayedLabels;\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.nodeHoverPrograms) {\n            this.nodeHoverPrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.nodeHoverPrograms[data.type].process(nodesPerPrograms[data.type]++, data);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.nodeHoverPrograms) {\n            var program = this.nodeHoverPrograms[type];\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var exitRender = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        // First we need to resize\n        this.resize();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // Do we need to reprocess data?\n        if (this.needToProcess)\n            this.process();\n        this.needToProcess = false;\n        // Clearing the canvases\n        this.clear();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return exitRender();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        var params = {\n            matrix: this.matrix,\n            width: this.width,\n            height: this.height,\n            pixelRatio: this.pixelRatio,\n            zoomRatio: this.camera.ratio,\n            sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n            correctionRatio: this.correctionRatio,\n        };\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.render(params);\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.render(params);\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return exitRender();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return exitRender();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = this.settings.zoomToSizeRatioFunction(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method used to set the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.setGraph = function (graph) {\n        if (graph === this.graph)\n            return;\n        // Unbinding handlers on the current graph\n        this.unbindGraphHandlers();\n        // Clearing the graph data caches\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        // Cleaning renderer state tied to the current graph\n        this.displayedNodeLabels.clear();\n        this.displayedEdgeLabels.clear();\n        this.highlightedNodes.clear();\n        this.hoveredNode = null;\n        this.hoveredEdge = null;\n        this.nodesWithForcedLabels.length = 0;\n        this.edgesWithForcedLabels.length = 0;\n        if (this.checkEdgesEventsFrame !== null) {\n            (0, utils_1.cancelFrame)(this.checkEdgesEventsFrame);\n            this.checkEdgesEventsFrame = null;\n        }\n        // Installing new graph\n        this.graph = graph;\n        // Binding new handlers\n        this.bindGraphHandlers();\n        // Re-rendering now to avoid discrepancies from now to next frame\n        this.refresh();\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method used to get the set of currently displayed node labels.\n     *\n     * @return {Set<string>} A set of node keys whose label is displayed.\n     */\n    Sigma.prototype.getNodeDisplayedLabels = function () {\n        return new Set(this.displayedNodeLabels);\n    };\n    /**\n     * Method used to get the set of currently displayed edge labels.\n     *\n     * @return {Set<string>} A set of edge keys whose label is displayed.\n     */\n    Sigma.prototype.getEdgeDisplayedLabels = function () {\n        return new Set(this.displayedEdgeLabels);\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh, i.e. force the renderer to fully reprocess graph\n     * data and render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this.render();\n        return this;\n    };\n    /**\n     * Method used to schedule a render at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRender = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this.render();\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to schedule a refresh (i.e. fully reprocess graph data and render)\n     * at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        this.unbindGraphHandlers();\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","(()=>{\"use strict\";var o={d:(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},n={};o.r(n),o.d(n,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=n})();","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.EdgeProgram = exports.AbstractEdgeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeProgram.prototype.process = function (offset, sourceData, targetData, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden || sourceData.hidden || targetData.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, sourceData, targetData, data);\n    };\n    return EdgeProgram;\n}(program_1.Program));\nexports.EdgeProgram = EdgeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        EdgeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.process = function (offset, sourceData, targetData, data) {\n            this.programs.forEach(function (program) { return program.process(offset, sourceData, targetData, data); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_point_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.point\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_borderColor;\\nattribute float a_borderRatio;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_borderColor = a_borderColor;\\n  v_borderColor.a *= bias;\\n\\n  v_borderRatio = 0.5 - a_borderRatio / 2.0;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\\n\\n  if (distToCenter < v_borderRatio - v_border)\\n    gl_FragColor = v_color;\\n  else if (distToCenter < v_borderRatio)\\n    gl_FragColor = mix(v_borderColor, v_color, (v_borderRatio - distToCenter) / v_border);\\n  else if (distToCenter < radius - v_border)\\n    gl_FragColor = v_borderColor;\\n  else if (distToCenter < radius)\\n    gl_FragColor = mix(transparent, v_borderColor, (radius - distToCenter) / v_border);\\n  else\\n    gl_FragColor = transparent;\\n}\\n\";\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar DEFAULT_NODE_BORDER_COLOR = \"#7a7a7a\";\nvar DEFAULT_NODE_BORDER_RATIO = 0.1;\nvar NodePointWithBorderProgram = /** @class */ (function (_super) {\n    __extends(NodePointWithBorderProgram, _super);\n    function NodePointWithBorderProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointWithBorderProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderColor\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderRatio\", size: 1, type: FLOAT },\n            ] });\n    };\n    NodePointWithBorderProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var borderRatio = typeof data.borderRatio !== \"number\" ? DEFAULT_NODE_BORDER_RATIO : data.borderRatio;\n        // borderSize takes precedence\n        if (typeof data.borderSize === \"number\") {\n            borderRatio = data.borderSize / data.size;\n        }\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = (0, utils_1.floatColor)(data.color);\n        array[i++] = (0, utils_1.floatColor)(data.borderColor || DEFAULT_NODE_BORDER_COLOR);\n        array[i] = borderRatio;\n    };\n    return NodePointWithBorderProgram;\n}(node_point_1[\"default\"]));\nexports[\"default\"] = NodePointWithBorderProgram;\n","import { Settings } from \"sigma/settings\";\nimport { NodeDisplayData, PartialButFor } from \"sigma/types\";\n\nconst PADDING = 4;\n\nfunction splitLabel(label) {\n  return label.replace(/.{10}\\S*\\s+/g, \"$&|\").split(/\\s+\\|/);\n}\n\nfunction biggestPiece(pieces) {\n  let big = \"\";\n  pieces.filter((piece) => (big.length < piece.length ? (big = piece) : null));\n  return big;\n}\n\nfunction drawLabel(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\" | \"label\" | \"color\">,\n  settings: Settings,\n): void {\n  if (!data.label) return;\n\n  const size = data.labelSize || settings.labelSize;\n  const font = settings.labelFont;\n  const weight = settings.labelWeight;\n  const color = data.labelColor || settings.labelColor.color;\n  const pieces = splitLabel(data.label);\n\n  const x = data.x + data.size + 3;\n  let y = data.y + size / (pieces.length > 1 ? 2 : 3);\n\n  context.fillStyle = color;\n  context.font = `${weight} ${size}px ${font}`;\n\n  const lineHeight = size + PADDING;\n  if (pieces.length > 1) y -= (lineHeight * pieces.length) / 3;\n\n  pieces.forEach((piece, i) => context.fillText(piece, x, y + i * lineHeight));\n}\n\nfunction drawHover(\n  context: CanvasRenderingContext2D,\n  data: PartialButFor<NodeDisplayData, \"x\" | \"y\" | \"size\" | \"label\" | \"color\">,\n  settings: Settings,\n): void {\n  const size = data.labelSize || settings.labelSize;\n  const font = settings.labelFont;\n  const weight = settings.labelWeight;\n  const pieces = data.label ? splitLabel(data.label) : [];\n\n  data = { ...data, label: data.label || data.hoverLabel };\n\n  context.font = `${weight} ${size}px ${font}`;\n\n  // Then we draw the label background\n  context.fillStyle = \"#555\";\n\n  context.beginPath();\n  if (!data.label) context.arc(data.x, data.y, data.size + PADDING / 2, 0, Math.PI * 2);\n  else {\n    const textWidth = context.measureText(biggestPiece(pieces)).width;\n    const boxWidth = Math.round(textWidth + 5);\n    const boxHeight = Math.round(pieces.length * (size + PADDING) + PADDING);\n\n    const radius = Math.max(data.size + PADDING, boxHeight / 2);\n    const angleRadian = Math.asin(boxHeight / 2 / radius);\n    const xShift = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2))),\n      xMin = data.x + xShift,\n      xMax = data.x + data.size + PADDING + boxWidth - boxHeight / 4,\n      yMin = data.y - boxHeight / 2,\n      yMax = data.y + boxHeight / 2;\n\n    context.moveTo(xMin, yMax);\n    context.lineTo(xMax, yMax);\n    context.arc(xMax, data.y, boxHeight / 2, -Math.PI / 2, Math.PI / 2);\n    context.lineTo(xMax, yMin);\n    context.lineTo(xMin, yMin);\n    context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n  }\n  context.closePath();\n  context.fill();\n\n  // And finally we draw the label\n  drawLabel(context, data, settings);\n}\n\nexport { drawLabel, drawHover };\n","// Forked from @Yomguithereal's sigma-experiments programs: https://github.com/Yomguithereal/sigma-experiments/blob/master/renderers/src/node/node.halo.ts\n\n// A node renderer using one triangle to render a blurry halo useful to render\n// a basic heatmap with variable color, size and intensity\n// NOTE: the ignoreZoom uniform is not in use but could be accessed through\n// a factory.\n\nimport type { NodeDisplayData, RenderParams } from \"sigma/types\";\nimport { NodeProgram } from \"sigma/rendering/webgl/programs/common/node\";\nimport NodeCircleProgram from \"sigma/rendering/webgl/programs/node.circle\";\nimport { floatColor } from \"sigma/utils\";\n\ninterface NodeDisplayDataWithHalo extends NodeDisplayData {\n  haloColor?: string;\n  haloIntensity?: number;\n  haloSize?: number;\n}\n\nconst VERTEX_SHADER_SOURCE = /*glsl*/ `\nattribute vec2 a_position;\nattribute float a_size;\nattribute float a_angle;\nattribute vec4 a_color;\nattribute float a_intensity;\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\nuniform float u_ignoreZoom;\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\nconst float bias = 255.0 / 254.0;\nconst float marginRatio = 1.05;\nvoid main() {\n  float size = a_size * u_correctionRatio / u_sizeRatio * u_ignoreZoom * 4.0;\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\n  vec2 position = a_position + diffVector * marginRatio;\n  gl_Position = vec4(\n    (u_matrix * vec3(position, 1)).xy,\n    0,\n    1\n  );\n  v_border = u_correctionRatio;\n  v_diffVector = diffVector;\n  v_radius = size / 2.0 / marginRatio;\n  v_color = a_color;\n  v_color.a *= bias;\n  v_intensity = a_intensity;\n}\n`;\n\nconst FRAGMENT_SHADER_SOURCE = /*glsl*/ `\nprecision highp float;\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\nvoid main(void) {\n  float dist = length(v_diffVector);\n  float intensity = v_intensity * (v_radius - dist) / v_radius;\n  if (dist < v_radius) {\n    gl_FragColor = vec4(v_color * intensity);\n  }\n  else {\n    gl_FragColor = transparent;\n  }\n}\n`;\n\nconst UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\", \"u_ignoreZoom\"] as const;\n\nconst { FLOAT, UNSIGNED_BYTE } = WebGLRenderingContext;\n\nexport default class NodeHaloProgram extends NodeProgram<(typeof UNIFORMS)[number]> {\n  getDefinition() {\n    return {\n      VERTICES: 3,\n      ARRAY_ITEMS_PER_VERTEX: 6,\n      VERTEX_SHADER_SOURCE,\n      FRAGMENT_SHADER_SOURCE,\n      UNIFORMS,\n      ATTRIBUTES: [\n        { name: \"a_position\", size: 2, type: FLOAT },\n        { name: \"a_size\", size: 1, type: FLOAT },\n        { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n        { name: \"a_angle\", size: 1, type: FLOAT },\n        { name: \"a_intensity\", size: 1, type: FLOAT },\n      ],\n    };\n  }\n\n  processVisibleItem(i: number, data: NodeDisplayDataWithHalo) {\n    const array = this.array;\n\n    const color = floatColor(data.haloColor || data.color);\n    const intensity = typeof data.haloIntensity === \"number\" ? data.haloIntensity : 1;\n    const size = Math.max(typeof data.haloSize === \"number\" ? data.haloSize : 0, data.size);\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_1;\n    array[i++] = intensity;\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_2;\n    array[i++] = intensity;\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_3;\n    array[i++] = intensity;\n  }\n\n  draw(params: RenderParams): void {\n    const gl = this.gl;\n\n    const { u_sizeRatio, u_correctionRatio, u_matrix, u_ignoreZoom } = this.uniformLocations;\n\n    gl.uniform1f(u_ignoreZoom, 1);\n    // NOTE: uncomment next line to disable zoom impact.\n    // gl.uniform1f(u_ignoreZoom, 1 / params.sizeRatio);\n    gl.uniform1f(u_sizeRatio, params.sizeRatio);\n    gl.uniform1f(u_correctionRatio, params.correctionRatio);\n    gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n\n    gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n  }\n}\n","(()=>{\"use strict\";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>o});const o=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  v_texture = a_texture;\\n}\\n\";module.exports=e})();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","/* @license\nPapa Parse\nv5.3.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var h=new RegExp(j(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,i=!0);var r=e.toString().replace(h,a);return(i=i||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(m)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(M(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(M(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){M(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else M(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(M(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!M(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){M(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,u=/^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(M(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){M(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(j(t)+\"([^]*?)\"+j(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)M(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=M(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,M(m.complete)&&m.complete(c),a=\"\"}}function j(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(e){var S,O=(e=e||{}).delimiter,x=e.newline,I=e.comments,T=e.step,D=e.preview,A=e.fastMode,L=S=void 0===e.quoteChar||null===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(L=e.escapeChar),(\"string\"!=typeof O||-1<b.BAD_DELIMITERS.indexOf(O))&&(O=\",\"),I===O)throw new Error(\"Comment character same as delimiter\");!0===I?I=\"#\":(\"string\"!=typeof I||-1<b.BAD_DELIMITERS.indexOf(I))&&(I=!1),\"\\n\"!==x&&\"\\r\"!==x&&\"\\r\\n\"!==x&&(x=\"\\n\");var F=0,z=!1;this.parse=function(r,t,i){if(\"string\"!=typeof r)throw new Error(\"Input must be a string\");var n=r.length,e=O.length,s=x.length,a=I.length,o=M(T),h=[],u=[],f=[],d=F=0;if(!r)return C();if(A||!1!==A&&-1===r.indexOf(S)){for(var l=r.split(x),c=0;c<l.length;c++){if(f=l[c],F+=f.length,c!==l.length-1)F+=x.length;else if(i)return C();if(!I||f.substring(0,a)!==I){if(o){if(h=[],k(f.split(O)),R(),z)return C()}else k(f.split(O));if(D&&D<=c)return h=h.slice(0,D),C(!0)}}return C()}for(var p=r.indexOf(O,F),g=r.indexOf(x,F),_=new RegExp(j(L)+j(S),\"g\"),m=r.indexOf(S,F);;)if(r[F]!==S)if(I&&0===f.length&&r.substring(F,F+a)===I){if(-1===g)return C();F=g+s,g=r.indexOf(x,F),p=r.indexOf(O,F)}else if(-1!==p&&(p<g||-1===g))f.push(r.substring(F,p)),F=p+e,p=r.indexOf(O,F);else{if(-1===g)break;if(f.push(r.substring(F,g)),w(g+s),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0)}else for(m=F,F++;;){if(-1===(m=r.indexOf(S,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:F}),E();if(m===n-1)return E(r.substring(F,m).replace(_,S));if(S!==L||r[m+1]!==L){if(S===L||0===m||r[m-1]!==L){-1!==p&&p<m+1&&(p=r.indexOf(O,m+1)),-1!==g&&g<m+1&&(g=r.indexOf(x,m+1));var y=b(-1===g?p:Math.min(p,g));if(r.substr(m+1+y,e)===O){f.push(r.substring(F,m).replace(_,S)),r[F=m+1+y+e]!==S&&(m=r.indexOf(S,F)),p=r.indexOf(O,F),g=r.indexOf(x,F);break}var v=b(g);if(r.substring(m+1+v,m+1+v+s)===x){if(f.push(r.substring(F,m).replace(_,S)),w(m+1+v+s),p=r.indexOf(O,F),m=r.indexOf(S,F),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:F}),m++}}else m++}return E();function k(e){h.push(e),d=F}function b(e){var t=0;if(-1!==e){var i=r.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=r.substring(F)),f.push(e),F=n,k(f),o&&R()),C()}function w(e){F=e,k(f),f=[],g=r.indexOf(x,F)}function C(e){return{data:h,errors:u,meta:{delimiter:O,linebreak:x,aborted:z,truncated:!!e,cursor:d+(t||0)}}}function R(){T(C()),h=[],u=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return F}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else M(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];M(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=w(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function M(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_zoomRatio;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.NodeProgram = exports.AbstractNodeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\nvar NodeProgram = /** @class */ (function (_super) {\n    __extends(NodeProgram, _super);\n    function NodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeProgram.prototype.process = function (offset, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, data);\n    };\n    return NodeProgram;\n}(program_1.Program));\nexports.NodeProgram = NodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        NodeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.process = function (offset, data) {\n            this.programs.forEach(function (program) { return program.process(offset, data); });\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (webGLNodeRadius * unitNormal.y)\\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-webGLNodeRadius * unitNormal.x)\\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=a})();","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_rectangle_vert_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.vert.glsl.js\"));\nvar edge_rectangle_frag_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_zoomRatio\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeRectangleProgram = /** @class */ (function (_super) {\n    __extends(EdgeRectangleProgram, _super);\n    function EdgeRectangleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeRectangleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: edge_rectangle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_rectangle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeRectangleProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeRectangleProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeRectangleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_zoomRatio = _a.u_zoomRatio, u_correctionRatio = _a.u_correctionRatio, u_sizeRatio = _a.u_sizeRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_zoomRatio, params.zoomRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeRectangleProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeRectangleProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeRectangleProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSettings = exports.validateSettings = exports.DEFAULT_EDGE_PROGRAM_CLASSES = exports.DEFAULT_NODE_PROGRAM_CLASSES = exports.DEFAULT_SETTINGS = void 0;\nvar utils_1 = require(\"./utils\");\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_point_1 = __importDefault(require(\"./rendering/webgl/programs/node.point\"));\nvar edge_rectangle_1 = __importDefault(require(\"./rendering/webgl/programs/edge.rectangle\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    zoomToSizeRatioFunction: Math.sqrt,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {},\n    nodeHoverProgramClasses: {},\n    edgeProgramClasses: {},\n};\nexports.DEFAULT_NODE_PROGRAM_CLASSES = {\n    circle: node_point_1.default,\n};\nexports.DEFAULT_EDGE_PROGRAM_CLASSES = {\n    arrow: edge_arrow_1.default,\n    line: edge_rectangle_1.default,\n};\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nfunction resolveSettings(settings) {\n    var resolvedSettings = (0, utils_1.assign)({}, exports.DEFAULT_SETTINGS, settings);\n    resolvedSettings.nodeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_NODE_PROGRAM_CLASSES, resolvedSettings.nodeProgramClasses);\n    resolvedSettings.edgeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_EDGE_PROGRAM_CLASSES, resolvedSettings.edgeProgramClasses);\n    return resolvedSettings;\n}\nexports.resolveSettings = resolveSettings;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec4 color;\\n\\n  if (v_texture.w > 0.0) {\\n    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));\\n  } else {\\n    color = v_color;\\n  }\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  } else if (dist < radius) {\\n    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";module.exports=o})();","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_circle_vert_glsl_1 = __importDefault(require(\"../shaders/node.circle.vert.glsl.js\"));\nvar node_circle_frag_glsl_1 = __importDefault(require(\"../shaders/node.circle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\"];\nvar NodeCircleProgram = /** @class */ (function (_super) {\n    __extends(NodeCircleProgram, _super);\n    function NodeCircleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeCircleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: node_circle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_circle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n            ],\n        };\n    };\n    NodeCircleProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_1;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_2;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i] = NodeCircleProgram.ANGLE_3;\n    };\n    NodeCircleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    NodeCircleProgram.ANGLE_1 = 0;\n    NodeCircleProgram.ANGLE_2 = (2 * Math.PI) / 3;\n    NodeCircleProgram.ANGLE_3 = (4 * Math.PI) / 3;\n    return NodeCircleProgram;\n}(node_1.NodeProgram));\nexports.default = NodeCircleProgram;\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","(()=>{\"use strict\";var e={d:(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector) - v_radius;\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","const DEBUG = false;\n\nfunction logDebug(action: string, vars: Record<string, any> = {}): void {\n  if (DEBUG) console.log(\" -> \" + action, vars);\n}\n\nfunction hasClass(element: HTMLElement, clss: string): boolean {\n  const classes = new Set(element.className.split(/\\s+/));\n  return classes.has(clss);\n}\n\nfunction addClass(element: HTMLElement, clss: string): void {\n  const classes = new Set(element.className.split(/\\s+/));\n  classes.add(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction rmClass(element: HTMLElement, clss: string): void {\n  const classes = new Set(element.className.split(/\\s+/));\n  if (classes.has(clss)) classes.delete(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction switchClass(element: HTMLElement, clss: string, condition: boolean): void {\n  const classes = new Set(element.className.split(/\\s+/));\n  if (classes.has(clss)) classes.delete(clss);\n  if (condition) classes.add(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction fixImage(url: string, replacement: HTMLElement | null = null): string {\n  if (/image_not_available/.test(url)) {\n    if (replacement) replacement.style.display = \"block\";\n    return \"\";\n  }\n  if (replacement) replacement.style.display = \"none\";\n  return url.replace(/^http:/, \"\");\n}\n\nfunction formatNumber(x: number): string {\n  return (x + \"\").replace(/(.)(.{3})$/, '<span class=\"shifted\">$1</span>$2');\n}\n\nconst monthNames = [\n  \"january\",\n  \"february\",\n  \"march\",\n  \"april\",\n  \"may\",\n  \"june\",\n  \"july\",\n  \"august\",\n  \"september\",\n  \"october\",\n  \"november\",\n  \"december\",\n];\nfunction formatMonth(dat: string): string {\n  const _d = new Date(dat);\n  return monthNames[new Date(dat).getMonth()] + \" \" + dat.slice(0, 4);\n}\n\n// Lighten colors function copied from Chris Coyier https://css-tricks.com/snippets/javascript/lighten-darken-color/\nfunction lightenColor(col: string, amt = 50): string {\n  let usePound = false;\n  if (col[0] === \"#\") {\n    col = col.slice(1);\n    usePound = true;\n  }\n  const num = parseInt(col, 16);\n  let r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if (r < 0) r = 0;\n  let b = ((num >> 8) & 0x00ff) + amt;\n  if (b > 255) b = 255;\n  else if (b < 0) b = 0;\n  let g = (num & 0x0000ff) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound ? \"#\" : \"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nfunction meanArray(arr: number[]): number {\n  return arr.reduce((a, b) => a + b, 0) / arr.length;\n}\n\nfunction divWidth(divId: string): number {\n  const element = document.getElementById(divId);\n  if (!element) {\n    throw new Error(`Element with id '${divId}' not found`);\n  }\n  return element.getBoundingClientRect().width;\n}\n\nfunction divHeight(divId: string): number {\n  const element = document.getElementById(divId);\n  if (!element) {\n    throw new Error(`Element with id '${divId}' not found`);\n  }\n  return element.getBoundingClientRect().height;\n}\n\nfunction isTouchDevice(): boolean {\n  return (\n    \"ontouchstart\" in window || navigator.maxTouchPoints > 0 || navigator[\"msMaxTouchPoints\"] > 0\n  );\n}\n\nfunction webGLSupport(): boolean {\n  try {\n    const canvas = document.createElement(\"canvas\");\n    return (\n      !!window.WebGLRenderingContext &&\n      !!(canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\"))\n    );\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction rotatePosition(pos: { x: number; y: number }, angle: number): { x: number; y: number } {\n  return {\n    x: pos.x * Math.cos(-angle) - pos.y * Math.sin(-angle),\n    y: pos.y * Math.cos(-angle) + pos.x * Math.sin(-angle),\n  };\n}\n\nfunction useWebWorker(script: string, inputData: any, callback: (data: any) => void): void {\n  const worker_blob = new Blob([script], { type: \"application/javascript\" });\n  const worker_url = URL.createObjectURL(worker_blob);\n  const worker = new Worker(worker_url);\n  worker.onmessage = ({ data }) => {\n    callback(data);\n    worker.terminate();\n  };\n  worker.postMessage(inputData);\n}\n\nfunction uncompress(\n  compressed: Uint8Array,\n  method: string,\n  callback: (data: string) => void,\n): void {\n  useWebWorker(\n    `\n    importScripts(\"${window.location.origin}/pako_inflate.min.js\");\n    self.onmessage = async (evt) => {\n      const file = evt.data;\n      const decompressed = pako.${method}(file, {to: \"string\"});\n      self.postMessage(decompressed);\n    };\n  `,\n    compressed,\n    callback,\n  );\n}\n\nfunction buildComicsList(data: any, callback: (list: string[]) => void): void {\n  useWebWorker(\n    `\n    self.onmessage = async (evt) => {\n      const data = evt.data;\n      const lightenColor = ${lightenColor.toString()};\n      const list = data.comics.map(\n        x => '<li id=\"comic-' + x.id + '\"' +\n          (data.color\n            ? ' style=\"color: ' + lightenColor(data.creatorsRoles[x.role]) + '\"'\n            : \"\"\n          ) + (data.selectedComic && x.id === data.selectedComic.id\n            ? ' class=\"selected\"'\n            : \"\"\n          ) + '>' + x.title + '</li>'\n      );\n      self.postMessage(list);\n    };\n  `,\n    data,\n    callback,\n  );\n}\n\nexport {\n  logDebug,\n  hasClass,\n  addClass,\n  rmClass,\n  switchClass,\n  fixImage,\n  formatNumber,\n  formatMonth,\n  lightenColor,\n  meanArray,\n  divWidth,\n  divHeight,\n  isTouchDevice,\n  webGLSupport,\n  rotatePosition,\n  uncompress,\n  buildComicsList,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Program = exports.AbstractProgram = void 0;\nvar utils_1 = require(\"../../../../utils\");\nvar utils_2 = require(\"../../shaders/utils\");\nvar SIZE_FACTOR_PER_ATTRIBUTE_TYPE = (_a = {},\n    _a[WebGL2RenderingContext.BOOL] = 1,\n    _a[WebGL2RenderingContext.BYTE] = 1,\n    _a[WebGL2RenderingContext.UNSIGNED_BYTE] = 1,\n    _a[WebGL2RenderingContext.SHORT] = 2,\n    _a[WebGL2RenderingContext.UNSIGNED_SHORT] = 2,\n    _a[WebGL2RenderingContext.INT] = 4,\n    _a[WebGL2RenderingContext.UNSIGNED_INT] = 4,\n    _a[WebGL2RenderingContext.FLOAT] = 4,\n    _a);\nvar AbstractProgram = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    function AbstractProgram(_gl, _renderer) {\n    }\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\nvar Program = /** @class */ (function () {\n    function Program(gl, renderer) {\n        var _this = this;\n        this.array = new Float32Array();\n        this.indicesArray = null;\n        this.uniformLocations = {};\n        this.attributeLocations = {};\n        this.capacity = 0;\n        this.verticesCount = 0;\n        // Reading program definition\n        var definition = this.getDefinition();\n        this.VERTICES = definition.VERTICES;\n        this.ARRAY_ITEMS_PER_VERTEX = definition.ARRAY_ITEMS_PER_VERTEX;\n        this.VERTEX_SHADER_SOURCE = definition.VERTEX_SHADER_SOURCE;\n        this.FRAGMENT_SHADER_SOURCE = definition.FRAGMENT_SHADER_SOURCE;\n        this.UNIFORMS = definition.UNIFORMS;\n        this.ATTRIBUTES = definition.ATTRIBUTES;\n        // Computing stride\n        this.STRIDE = this.VERTICES * this.ARRAY_ITEMS_PER_VERTEX;\n        // Members\n        this.gl = gl;\n        this.renderer = renderer;\n        // Webgl buffers\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"Program: error while creating the webgl buffer.\");\n        this.buffer = buffer;\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"Program: error while creating the webgl indices buffer.\");\n        this.indicesBuffer = indicesBuffer;\n        // Shaders and program\n        this.vertexShader = (0, utils_2.loadVertexShader)(this.gl, this.VERTEX_SHADER_SOURCE);\n        this.fragmentShader = (0, utils_2.loadFragmentShader)(this.gl, this.FRAGMENT_SHADER_SOURCE);\n        this.program = (0, utils_2.loadProgram)(this.gl, [this.vertexShader, this.fragmentShader]);\n        // Indices\n        this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(this.gl);\n        this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        // Initializing locations\n        this.UNIFORMS.forEach(function (uniformName) {\n            var location = _this.gl.getUniformLocation(_this.program, uniformName);\n            if (location === null)\n                throw new Error(\"Program: error while getting location for uniform \\\"\".concat(uniformName, \"\\\".\"));\n            _this.uniformLocations[uniformName] = location;\n        });\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.gl.getAttribLocation(_this.program, attr.name);\n            if (location === -1)\n                throw new Error(\"Program: error while getting location for attribute \\\"\".concat(attr.name, \"\\\".\"));\n            _this.attributeLocations[attr.name] = location;\n        });\n    }\n    Program.prototype.bind = function () {\n        var _this = this;\n        var gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (this.indicesArray) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        }\n        for (var attributeName in this.attributeLocations) {\n            gl.enableVertexAttribArray(this.attributeLocations[attributeName]);\n        }\n        var offset = 0;\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.attributeLocations[attr.name];\n            gl.vertexAttribPointer(location, attr.size, attr.type, attr.normalized || false, _this.ARRAY_ITEMS_PER_VERTEX * Float32Array.BYTES_PER_ELEMENT, offset);\n            var sizeFactor = SIZE_FACTOR_PER_ATTRIBUTE_TYPE[attr.type];\n            if (typeof sizeFactor !== \"number\")\n                throw new Error(\"Program.bind: yet unsupported attribute type \\\"\".concat(attr.type, \"\\\"!\"));\n            offset += attr.size * sizeFactor;\n        });\n    };\n    Program.prototype.bufferData = function () {\n        var gl = this.gl;\n        this.gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n        if (this.indicesArray) {\n            this.gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n        }\n    };\n    // NOTE: implementing `reallocateIndices` is optional\n    Program.prototype.reallocateIndices = function () {\n        return;\n    };\n    Program.prototype.reallocate = function (capacity) {\n        // If desired capacity has not changed we do nothing\n        // NOTE: it's possible here to implement more subtle reallocation schemes\n        // when the number of rendered items increase or decrease\n        if (capacity === this.capacity)\n            return;\n        this.capacity = capacity;\n        this.verticesCount = this.VERTICES * capacity;\n        this.array = new Float32Array(this.verticesCount * this.ARRAY_ITEMS_PER_VERTEX);\n        if (typeof this.reallocateIndices === \"function\")\n            this.reallocateIndices();\n    };\n    Program.prototype.hasNothingToRender = function () {\n        return this.verticesCount === 0;\n    };\n    Program.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        this.bind();\n        this.bufferData();\n        this.gl.useProgram(this.program);\n        this.draw(params);\n    };\n    return Program;\n}());\nexports.Program = Program;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n/**\n * Notes:\n *\n *   - a square can be represented as topleft + width, saying for the quad blocks,\n *     to reduce overall memory usage (which is already pretty low).\n *   - this implementation of a quadtree is often called a MX-CIF quadtree.\n *   - we could explore spatial hashing (hilbert quadtrees, notably).\n */\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4;\nvar MAX_LEVEL = 5;\n// Outside block is max block index + 1, i.e.:\n// BLOCKS * ((4 * (4 ** MAX_LEVEL) - 1) / 3)\nvar OUTSIDE_BLOCK = 5460;\nvar X_OFFSET = 0;\nvar Y_OFFSET = 1;\nvar WIDTH_OFFSET = 2;\nvar HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1;\nvar TOP_RIGHT = 2;\nvar BOTTOM_LEFT = 3;\nvar BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK].slice();\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                (0, extend_1.default)(nodes, this.containers[block]);\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (0, extend_1.default)(this.cache, this.containers[OUTSIDE_BLOCK]);\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        // We only start dragging on left button\n        if (e.button === 0) {\n            this.startCameraState = this.renderer.getCamera().getState();\n            var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n            this.lastMouseX = x;\n            this.lastMouseY = y;\n            this.draggedEvents = 0;\n            this.downStartTime = Date.now();\n            this.isMouseDown = true;\n        }\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            // NOTE: this refresh is here to make sure `hideEdgesOnMove` can work\n            // when someone releases camera pan drag after having stopped moving.\n            // See commit: https://github.com/jacomyal/sigma.js/commit/cfd9197f70319109db6b675dd7c82be493ca95a2\n            // See also issue: https://github.com/jacomyal/sigma.js/issues/1290\n            // It could be possible to render instead of scheduling a refresh but for\n            // now it seems good enough.\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeArrowHeadProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: edge_arrowHead_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_arrowHead_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_barycentric\", size: 3, type: FLOAT },\n            ],\n        };\n    };\n    EdgeArrowHeadProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var radius = targetData.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","import { createNodeCompoundProgram } from \"sigma/rendering/webgl/programs/common/node\";\nimport NodePointProgram from \"sigma/rendering/webgl/programs/node.point\";\nimport NodePointWithBorderProgram from \"@yomguithereal/sigma-experiments-renderers/node/node.point.border\";\nimport NodeHaloProgram from \"./node.halo\";\nimport getNodeProgramImage from \"./node.image\";\nimport { drawLabel, drawHover } from \"./node.label\";\n\nconst startYear = 1939,\n  curYear = new Date().getFullYear(),\n  totalYears = curYear - startYear + 1,\n  picturesLoadingDelay = 1500,\n  playComicsDelay = 1500,\n  creatorsRoles = {\n    writer: \"#234fac\",\n    artist: \"#2b6718\",\n    both: \"#d4a129\",\n  },\n  extraPalette = [\n    \"#bce25b\",\n    \"#0051c4\",\n    \"#d52f3f\",\n    \"#ded03f\",\n    \"#2cc143\",\n    \"#8b4a98\",\n    \"#5fb1ff\",\n    \"#ff993e\",\n    \"#904f13\",\n    \"#c45ecf\",\n  ],\n  smallScreen = Math.min(window.innerWidth, window.innerHeight) < 600,\n  NodeProgramImage = getNodeProgramImage(smallScreen ? 96 : 192),\n  sigmaSettings = {\n    maxCameraRatio: 75,\n    defaultEdgeColor: \"#000\",\n    labelRenderer: drawLabel,\n    labelFont: '\"DejaVu Sans Mono\", \"DejaVuSansMono\", monospace',\n    labelColor: { color: \"#AAA\" },\n    labelWeight: \"bold\",\n    labelDensity: 0.5,\n    labelGridCellSize: 300,\n    hoverRenderer: drawHover,\n    zoomToSizeRatioFunction: (ratio: number) => Math.pow(ratio, 0.75),\n    nodeProgramClasses: {\n      circle: createNodeCompoundProgram([NodeHaloProgram, NodePointProgram]),\n      image: createNodeCompoundProgram([\n        NodeHaloProgram,\n        NodePointWithBorderProgram,\n        NodeProgramImage,\n      ]),\n    },\n    nodeHoverProgramClasses: {\n      circle: createNodeCompoundProgram([NodePointProgram]),\n      image: createNodeCompoundProgram([NodePointWithBorderProgram, NodeProgramImage]),\n    },\n  };\n\nexport {\n  startYear,\n  curYear,\n  totalYears,\n  picturesLoadingDelay,\n  playComicsDelay,\n  creatorsRoles,\n  extraPalette,\n  sigmaSettings,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_zoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the size ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasing effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to update the camera's state using a function.\n     *\n     * @param  {function} updater - Updated function taking current state and\n     *                              returning next state.\n     * @return {Camera}\n     */\n    Camera.prototype.updateState = function (updater) {\n        this.setState(updater(this.getState()));\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(73);\n"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__importDefault","mod","__esModule","defineProperty","exports","value","utils_1","node_1","node_point_vert_glsl_1","node_point_frag_glsl_1","UNSIGNED_BYTE","WebGLRenderingContext","FLOAT","UNIFORMS","NodePointProgram","_super","apply","arguments","getDefinition","VERTICES","ARRAY_ITEMS_PER_VERTEX","VERTEX_SHADER_SOURCE","default","FRAGMENT_SHADER_SOURCE","ATTRIBUTES","name","size","type","normalized","processVisibleItem","i","data","array","x","y","floatColor","color","draw","params","gl","_a","uniformLocations","u_sizeRatio","u_pixelRatio","u_matrix","uniform1f","sizeRatio","pixelRatio","uniformMatrix3fv","matrix","drawArrays","POINTS","verticesCount","NodeProgram","entity","selectedNode","selectedNodeType","selectedNodeLabel","sigmaDim","renderer","camera","currentReducers","nodes","edges","animation","clustersLayer","resizeClusterLabels","suggestions","allSuggestions","comicsReady","comicsBarView","shift","preventAutoScroll","minComicLiHeight","hoveredComic","selectedComic","playing","sortComics","histograms","characters","creators","conf","networks","picturesRenderingDelay","allComics","allComicsMap","allCharacters","allCreators","crossMap","charactersComics","creatorsComics","forEach","e","picturesLoadingDelay","communities","counts","clusters","container","document","getElementById","legendDiv","controls","loader","loaderComics","loaderList","helpButton","helpModal","helpBox","modal","modalImg","modalImgMissing","modalNext","modalPrev","modalPlay","modalPause","comicsActions","comicsNext","comicsPrev","comicsPlay","comicsPause","filterComics","filterSearch","filterInput","sortAlpha","sortDate","sideBar","explanations","viewNodeButton","viewComicsButton","orderSpan","nodeDetails","nodeLabel","nodeImg","nodeExtra","histogramContainer","histogramDiv","histogramHover","histogramLegend","histoTooltip","comicsBar","comicsDiv","comicsTitle","comicsSubtitle","comicsList","comicsCache","comicTitle","comicUrl","comicImg","comicDesc","comicEntities","querySelectorAll","comicCreators","comicCharacters","searchInput","searchIcon","searchSuggestions","selectSuggestions","switchNodeType","switchTypeLabel","globalTooltip","entitySpans","charactersDetailsSpans","creatorsDetailsSpans","loadNetwork","ent","callback","waitForComics","loaded","setTimeout","showLoader","loading","setInterval","clearInterval","logDebug","fetch","then","res","arrayBuffer","content","networkData","uncompress","Uint8Array","graphData","parsed","JSON","parse","console","error","g","multi","n","a","attributes","label","addNode","id","image","image_url","url","description","relatedAesthetics","relationships","rel","src","source","trg","target","hasNode","hasEdge","addEdge","weight","graph","buildNetwork","computeNodeSize","count","dim","Math","pow","loadComics","buildComics","comicsData","worker","header","skipEmptyLines","step","result","c","Date","date","getFullYear","push","split","filter","ch","artistsIds","artists","writers","concat","cr","role","length","complete","style","display","rmClass","renderHistogram","resize","renderNetwork","shouldComicsBarView","innerHTML","formatNumber","order","keys","creatorsRoles","k","lightenColor","clEl","sigmaDims","getBoundingClientRect","min","height","width","setSetting","attrs","edge","setGraph","Sigma","sigmaSettings","createElement","sigmaHovers","getElementsByClassName","insertBefore","on","cursor","event","clickNode","node","setURL","setSearchQuery","getCamera","zoomIn","zoomOut","zoomReset","onclick","animatedZoom","duration","animatedUnzoom","animatedReset","clusterLabelsDoms","cluster","viewportPos","graphToViewport","clusterLabel","top","left","map","getNodeAttribute","sort","feedAllSuggestions","join","onchange","idx","selectedIndex","fillSuggestions","oninput","onblur","sigmaWidth","divWidth","rendered","finalizeGraph","ratio","angle","showCanvases","animate","updateEachNodeAttributes","query","toLowerCase","forEachNode","includes","suggestionsMatch","conditionalOpenComicsBar","selectComic","unselectComic","displayComics","hideLoader","enableSwitchButtons","findNode","updateShift","centerNode","neighbors","force","clearTimeout","isAnimated","getState","window","runCentering","animated","indexOf","x0","x1","y0","y1","pos","getNodeDisplayData","minCorner","rotatePosition","framedGraphToViewport","maxCorner","viewPortPosition","max","getSetting","abs","minWin","maxWin","minPos","maxPos","newCam","viewportToFramedGraph","updateURL","center","sameNode","setNodeAttribute","stopPlayComics","defaultSidebar","relatedNodes","comicsRatio","nodeEntity","values","reduce","sum","cur","getNodeAttributes","scrollTo","fixImage","opacity","stories","degree","writer","artist","community","zIndex","haloSize","haloIntensity","hasExtremity","opposite","log","getEdgeAttribute","hidden","undefined","getNodeComics","hasClass","title","autoReselect","resetTitle","transform","disableSwitchButtons","replace","actuallyDisplayComics","scrollComicsList","comics","sortByDate","sortByTitle","selectedComicId","now","buildComicsList","comicsListData","comicLi","comic","onmouseup","onmouseenter","focus","closeBar","clearComicDetails","el","keep","addClass","previousElementSibling","nextElementSibling","comicDetails","formatMonth","href","setupTooltip","comicNodes","floor","random","win","documentElement","fullScreenBtn","regScreenBtn","disabled","showClustersLayer","canvas","hideComicsBar","setAttribute","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","_event","checked","preventClick","_e","closeHelp","clearTooltip","tooltipId","tooltip","element","isTouchDevice","touches","getAttribute","activeElement","g0","g1","dims","clientX","clientY","innerWidth","onmousemove","onmouseleave","ontouchstart","offset","querySelector","listHeight","divHeight","diff","offsetTop","selectAndScroll","selectAndScrollSibling","typ","loop","selected","playComics","playComicsDelay","ontouchend","closeModal","onwheel","onmousedown","onmouseout","sortableTitle","s","padStart","localeCompare","filterTimeout","refreshFilter","onkeydown","which","preventDefault","touchStart","changedTouches","screenX","screenY","touchEnd","threshold","horizontalDifference","verticalDifference","buildLegendItem","year","ref","className","startYear","curYear","round","totalYears","histogram","entityYearMap","start","end","histo","fill","comicYear","buildHistogram","maxWidth","heightRatio","_idx","hover","legendYears","legend","bar","yearStr","parseInt","tooltipWidth","minLeft","maxLeft","yearMap","touch","bDims","right","bottom","ontouchmove","resizing","fast","freeHeight","comicsDims","legendLeft","_node","borderSize","sel","selType","opts","location","hash","readURL","args","fromEntries","o","test","reload","oldNodeLabel","decodeURIComponent","clickn","oldComic","oldSort","switchClass","dispc","titleElement","titleDiv","prevGraph","span","cooccurrenceEl","onresize","text","confData","line","keyval","webGLSupport","onhashchange","webglDisclaimer","__read","m","Symbol","iterator","r","ar","next","done","validateGraph","canUse32BitsIndices","extractPixel","getMatrixImpact","matrixFromCamera","getCorrectionRatio","floatArrayColor","parseColor","zIndexOrdering","createNormalizationFunction","graphExtent","getPixelRatio","cancelFrame","requestFrame","assignDeep","assign","isPlainObject","is_graph_1","matrices_1","data_1","objects","_i","l","requestAnimationFrame","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","Infinity","xMax","yMin","yMax","_","attr","extent","minX","maxX","_b","minY","maxY","dX","dY","isNaN","fn","applyTo","inverse","getter","elements","zA","zB","INT8","Int8Array","INT32","Int32Array","buffer","FLOAT32","Float32Array","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","charAt","match","FLOAT_COLOR_CACHE","htmlColor","HTML_COLORS","viewportDimensions","graphDimensions","viewportRatio","graphRatio","state","padding","identity","smallestDimension","correctionRatio","multiply","translate","scale","rotate","cameraState","multiplyVec2","cos","sin","sqrt","readPixels","RGBA","WebGL2RenderingContext","getExtension","Error","key","Number","isFinite","t","enumerable","get","toStringTag","module","getPrototypeOf","bind","Reflect","construct","sham","Proxy","Boolean","valueOf","Function","Map","toString","has","set","writable","configurable","ReferenceError","u","_nodes","out","undirected","h","f","isArray","w","v","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","init","once","Promise","removeListener","slice","U","EventEmitter","_events","_eventsCount","_maxListeners","G","defaultMaxListeners","newListener","emit","listener","unshift","warned","emitter","warn","E","fired","wrapFn","A","L","D","S","addEventListener","removeEventListener","N","RangeError","setMaxListeners","getMaxListeners","message","context","addListener","prependListener","prependOnceListener","pop","off","removeAllListeners","listeners","rawListeners","listenerCount","eventNames","of","empty","fromSequence","is","O","j","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","C","M","z","W","P","isView","R","K","T","B","captureStackTrace","F","I","Y","clear","q","J","V","H","_edges","inDegree","outDegree","undirectedDegree","undirectedLoops","directedLoops","in","attach","attachMulti","previous","detach","detachMulti","Q","attacher","X","Z","$","tt","et","direction","nt","rt","it","sourceAttributes","targetAttributes","ot","at","ct","dt","ht","lt","wt","vt","bt","mt","wrap","kt","neighbor","xt","Et","At","Lt","St","Dt","Set","Ut","Nt","allowSelfLoops","Ot","NodeDataClass","jt","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","Ct","Mt","delete","zt","_options","_resetInstanceCounters","hasDirectedEdge","hasUndirectedEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","inDegreeWithoutSelfLoops","outDegreeWithoutSelfLoops","directedDegreeWithoutSelfLoops","undirectedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","extremities","isUndirected","isDirected","isSelfLoop","mergeNode","updateNode","dropNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","_attributes","getAttributes","hasAttribute","updateAttribute","removeAttribute","replaceAttributes","mergeAttributes","updateAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","from","mapNodes","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","export","options","import","forEachEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdgeWithKey","addUndirectedEdgeWithKey","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeDirectedEdge","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","copy","toJSON","inspect","startsWith","for","generateKey","undirectedSize","directedSize","ut","pt","gt","toUpperCase","st","ft","yt","_t","Gt","Wt","Pt","Rt","Kt","Tt","Bt","Graph","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","__assign","edge_rectangle_1","edge_clamped_vert_glsl_1","EdgeClampedProgram","sourceData","targetData","thickness","x2","y2","dx","dy","radius","len","n1","n2","TypedEventEmitter","_this","rawEmitter","maxTextureSize","textureImage","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","writePositionX","writePositionY","writeRowHeight","rebindTexture","refresh","ImageData","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","generateMipmap","latestRenderParams","render","imageSource","imageState","Image","status","pendingImages","ctx","getContext","willReadFrequently","totalWidth","totalHeight","xOffset","yOffset","drawRow","putImageData","imageSizeInTexture","drawImage","getImageData","rowImages","finalizePendingImages","loadImage","borderRatio","u_atlas","uniform1i","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","loadProgram","loadFragmentShader","loadVertexShader","shaders","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","types_1","dom","bbox","sigmaDefaultPrevented","preventSigmaDefault","original","arr","deltaY","detail","delta","Captor","edgeData","settings","edgeLabelSize","font","edgeLabelFont","edgeLabelWeight","edgeLabelColor","attribute","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","textLength","measureText","acos","asin","PI","save","fillText","restore","__createBinding","k2","__setModuleDefault","__importStar","captor_1","TouchCaptor","enabled","isMoving","hasMoved","touchMode","startTouchesPositions","handleStart","handleLeave","handleMove","kill","getDimensions","offsetWidth","offsetHeight","dispatchRelatedMouseEvent","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","startCameraState","lastTouches","lastTouchesPositions","_c","startTouchesAngle","atan2","startTouchesDistance","movingTimeout","previousCameraState","getPreviousState","easing","touchesPositions","some","position","startPosition","xStart","yStart","setState","newCameraState","_d","angleDiff","ratioDiff","hypot","newRatio","getBoundedRatio","dimensions","touchGraphPosition","__values","extend_1","camera_1","mouse_1","quadtree_1","labels_1","settings_1","touch_1","edge_collisions_1","applyNodeDefaults","defaultNodeColor","highlighted","forceLabel","defaultNodeType","applyEdgeDefaults","defaultEdgeColor","defaultEdgeType","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","LabelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","invMatrix","customBBox","normalizationFunction","cameraSizeRatio","displayedNodeLabels","displayedEdgeLabels","highlightedNodes","hoveredNode","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","checkEdgesEventsFrame","nodePrograms","nodeHoverPrograms","edgePrograms","resolveSettings","validateSettings","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","enable","BLEND","nodeProgramClasses","NodeProgramClass","NodeHoverProgram","nodeHoverProgramClasses","hoverNodes","edgeProgramClasses","EdgeProgramClass","bindCameraHandlers","mouseCaptor","mouse","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","class","appendChild","antialias","contextOptions","scheduleRender","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","point","getNodeAtPosition","quadNodes","minDistance","nodeAtPosition","nodePosition","scaleSize","distance","handleResize","baseEvent","nodeToHover","scheduleHighlightedNodesRender","enableEdgeHoverEvents","checkEdgeHoverEvents","createMouseListener","eventType","enableEdgeWheelEvents","enableEdgeClickEvents","getEdgeAtPoint","handleClick","handleRightClick","handleDoubleClick","handleWheel","handleDown","graphUpdate","scheduleRefresh","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","unbindGraphHandlers","payload","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","graphLength","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","e_1_1","return","process","nodeZExtent","edgeZExtent","resizeAndClear","labelGridCellSize","nullCamera","nullCameraMatrix","getGraphDimensions","nodesPerPrograms","nodeReducer","reallocate","add","nodeProgram","organize","edgesPerPrograms","getEdgeAttributes","edgeReducer","minRatio","minCameraRatio","maxRatio","maxCameraRatio","validateState","renderLabels","labelsToDisplay","getLabelsToDisplay","labelDensity","labels","labelRenderedSizeThreshold","labelRenderer","renderEdgeLabels","edgeLabels","clearRect","edgeLabelsToDisplay","edgeLabelsToDisplayFromNodes","displayedLabels","edgeLabelRenderer","renderHighlightedNodes","hovers","nodesToRender","hoverRenderer","COLOR_BUFFER_BIT","zoomRatio","zoomToSizeRatioFunction","exitRender","updateCachedValues","moving","draggedEvents","currentWheelDirection","hideEdgesOnMove","hideLabelsOnMove","getContainer","getGraph","getMouseCaptor","getTouchCaptor","getEdgeDisplayData","getNodeDisplayedLabels","getEdgeDisplayedLabels","getSettings","updateSetting","updater","previousWidth","previousHeight","allowInvalidContainer","viewport","getViewportZoomedState","viewportTarget","graphMousePosition","graphCenterPosition","viewRectangle","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPoint","graphPoint","getBBox","getCustomBBox","setCustomBBox","firstChild","removeChild","getCanvases","createEdgeCompoundProgram","EdgeProgram","AbstractEdgeProgram","program_1","AbstractProgram","STRIDE","Program","programClasses","EdgeCompoundProgram","programs","capacity","node_point_1","NodePointWithBorderProgram","borderColor","splitLabel","drawLabel","labelSize","labelFont","labelWeight","labelColor","pieces","lineHeight","piece","drawHover","hoverLabel","beginPath","textWidth","big","biggestPiece","boxWidth","boxHeight","angleRadian","xShift","moveTo","lineTo","arc","PADDING","closePath","haloColor","intensity","ANGLE_1","ANGLE_2","ANGLE_3","u_correctionRatio","u_ignoreZoom","TRIANGLES","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","b1","LabelCandidate","compare","first","second","cellSize","columns","rows","cells","ceil","getIndex","xIndex","candidate","index","cell","density","cellArea","scaledDensity","labelsToDisplayPerCell","worthyEdges","self","postMessage","protocol","dynamicTyping","dynamicTypingFunction","WORKERS_SUPPORTED","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","userError","input","config","workerId","NODE_STREAM_INPUT","download","readable","read","File","stream","unparse","delimiter","BAD_DELIMITERS","quotes","newline","quoteChar","escapeChar","escapeFormulae","RegExp","fields","meta","trim","stringify","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","each","prop","FileReader","files","file","inputElem","instanceConfig","extend","before","action","reason","splice","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","chunkSize","streamer","_config","parseChunk","beforeFirstChunk","paused","aborted","substring","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","readAsText","encoding","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","abort","transformHeader","parseFloat","code","row","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","fastMode","substr","linebreak","truncated","terminate","createNodeCompoundProgram","AbstractNodeProgram","NodeCompoundProgram","edge_1","edge_rectangle_vert_glsl_1","edge_rectangle_frag_glsl_1","EdgeRectangleProgram","reallocateIndices","indices","IndicesArray","indicesArray","u_zoomRatio","drawElements","indicesType","MouseCaptor","QuadTree","Camera","sigma_1","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","DEFAULT_EDGE_PROGRAM_CLASSES","DEFAULT_NODE_PROGRAM_CLASSES","DEFAULT_SETTINGS","label_1","hover_1","edge_label_1","edge_arrow_1","stagePadding","circle","arrow","resolvedSettings","ReflectOwnKeys","ReflectApply","receiver","NumberIsNaN","resolve","reject","errorListener","err","resolver","eventTargetAgnosticAddListener","handler","addErrorHandlerIfEventEmitter","checkListener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","onceWrapper","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","flags","wrapListener","arg","doError","er","list","originalListener","spliceOne","node_circle_vert_glsl_1","node_circle_frag_glsl_1","NodeCircleProgram","l2","l1","vars","clss","classes","condition","replacement","monthNames","col","amt","usePound","num","useWebWorker","script","inputData","worker_blob","worker_url","dat","getMonth","meanArray","divId","navigator","maxTouchPoints","compressed","method","origin","pixels","drawingBufferHeight","xS","yS","xT","yT","utils_2","SIZE_FACTOR_PER_ATTRIBUTE_TYPE","BOOL","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","_gl","_renderer","attributeLocations","definition","createBuffer","indicesBuffer","vertexShader","fragmentShader","Uint32Array","Uint16Array","uniformName","getUniformLocation","getAttribLocation","attributeName","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","BYTES_PER_ELEMENT","sizeFactor","bufferData","DYNAMIC_DRAW","STATIC_DRAW","hasNothingToRender","useProgram","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","hasWarnedTooMuchOutside","rect","heightVector","tl","tr","bl","br","xL","xR","qx","qy","qw","qh","pointIsInQuad","containers","OUTSIDE_BLOCK","cache","lastRectangle","boundaries","maxLevel","level","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","acc","current","insertNode","stack","hw","hh","buildQuadrants","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","xDeltaCoord","downStartTime","lastMouseX","lastMouseY","isMouseDown","clicks","doubleClickTimeout","handleUp","handleOut","stopPropagation","mouseCoords","button","eX","eY","lastMouse","offsetX","offsetY","wheelCoords","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","smallScreen","innerHeight","NodeProgramImage","both","extraPalette","animateNodes","ANIMATE_DEFAULTS","index_1","easings_1","targets","startPositions","frame","animate_1","DEFAULT_ZOOMING_RATIO","nextFrame","previousState","disable","hasState","validatedState","validState","updateState","initialState","animationCallback","coefficient","newState","factorOrOptions","factor","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"ignoreList":[],"sourceRoot":""}